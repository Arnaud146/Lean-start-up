/*! For license information please see main.df49f1d0.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(E);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,S=null,_=-1,C=5,T=-1;function I(){return!(t.unstable_now()-T<C)}function A(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?k():(N=!1,S=null)}}else N=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=A,k=function(){R.postMessage(null)}}else k=function(){v(A,0)};function P(e){S=e,N||(N=!0,k())}function D(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Us){var r=Us}Reflect.construct(e,[],t)}else{try{t.call()}catch(Us){r=Us}e.call(t.prototype)}else{try{throw Error()}catch(Us){r=Us}e()}}catch(Us){if(Us&&r&&"string"===typeof Us.stack){for(var i=Us.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case S:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(nu){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Ne=null;function Se(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function _e(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ne)&&(Ie(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,kt,Nt,St,_t=!1,Ct=[],Tt=null,It=null,At=null,jt=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){_t=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),jt.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),null!==At&&zt(At,e),jt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Lt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Nn}var _n=M({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(_n),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(jn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Nr={};function Sr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return kr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var _r=Sr("animationend"),Cr=Sr("animationiteration"),Tr=Sr("animationstart"),Ir=Sr("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<jr.length;Pr++){var Dr=jr[Pr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}je(function(){var r=s,i=xe(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case _r:case Cr:case Tr:l=vn;break;case Ir:l=An;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==h&&Qr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Hn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Re(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Ei=[],ki=-1;function Ni(e){return{current:e}}function Si(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function _i(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ci={},Ti=Ni(Ci),Ii=Ni(!1),Ai=Ci;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ii),Si(Ti)}function Di(e,t,n){if(Ti.current!==Ci)throw Error(s(168));_i(Ti,t),_i(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,_i(Ti,e),_i(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ii),Si(Ti),_i(Ti,e)):Si(Ii),_i(Ii,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Ji=s+e}else $i=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=qc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Vc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Xi(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Xi(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Xi(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Xi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Vc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Uc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Bc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),Es=Ni(null),ks=null,Ns=null,Ss=null;function _s(){Ss=Ns=ks=null}function Cs(e){var t=Es.current;Si(Es),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){ks=e,Ss=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(No=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===ks)throw Error(s(308));Ns=e,ks.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var js=null;function Rs(e){null===js?js=[e]:js.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=h}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ks={},Gs=Ni(Ks),Ys=Ni(Ks),$s=Ni(Ks);function Js(e){if(e===Ks)throw Error(s(174));return e}function Zs(e,t){switch(_i($s,t),_i(Ys,e),_i(Gs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Gs),_i(Gs,t)}function ea(){Si(Gs),Si(Ys),Si($s)}function ta(e){Js($s.current);var t=Js(Gs.current),n=le(t,e.type);t!==n&&(_i(Ys,e),_i(Gs,n))}function na(e){Ys.current===e&&(Si(Gs),Si(Ys))}var ra=Ni(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ca=0,ua=null,ha=null,da=null,fa=!1,pa=!1,ma=0,ga=0;function va(){throw Error(s(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,a){if(ca=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,da=ha=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==ha&&null!==ha.next,ca=0,da=ha=ua=null,fa=!1,t)throw Error(s(300));return e}function wa(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ua.memoizedState=da=e:da=da.next=e,da}function Ea(){if(null===ha){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===da?ua.memoizedState:da.next;if(null!==t)da=t,ha=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ua.memoizedState=da=e:da=da.next=e}return da}function ka(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ea(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ca&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ua.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,zl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=Ea(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ca(e,t){var n=ua,r=Ea(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,No=!0),r=r.queue,Ua(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Da(9,Ia.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&ca)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Ra(e)}function Aa(e,t,n){return n(function(){ja(t)&&Ra(e)})}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ra(e){var t=Ds(e,1);null!==t&&oc(t,e,1,-1)}function Pa(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Ja.bind(null,ua,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return Ea().memoizedState}function La(e,t,n,r){var i=xa();ua.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var i=Ea();r=void 0===r?null:r;var s=void 0;if(null!==ha){var a=ha.memoizedState;if(s=a.destroy,null!==r&&ya(r,a.deps))return void(i.memoizedState=Da(t,n,s,r))}ua.flags|=e,i.memoizedState=Da(1|t,n,s,r)}function Fa(e,t){return La(8390656,8,e,t)}function Ua(e,t){return Ma(2048,8,e,t)}function Va(e,t){return Ma(4,2,e,t)}function za(e,t){return Ma(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Ba.bind(null,t,e),n)}function Ha(){}function Wa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ua.lanes|=n,zl|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Ya(){return Ea().memoizedState}function $a(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Za(t,n);else if(null!==(n=Ps(e,t,n,r))){oc(n,e,r,sc()),eo(n,t,r)}}function Ja(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Us){}null!==(n=Ps(e,t,i,r))&&(oc(n,e,r,i=sc()),eo(n,t,r))}}function Xa(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:As,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},no={readContext:As,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$a.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Pa,useDebugValue:Ha,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Qa.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=xa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&ca)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Dl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:As,useCallback:Wa,useContext:As,useEffect:Ua,useImperativeHandle:qa,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Ka,useReducer:Na,useRef:Oa,useState:function(){return Na(ka)},useDebugValue:Ha,useDeferredValue:function(e){return Ga(Ea(),ha.memoizedState,e)},useTransition:function(){return[Na(ka)[0],Ea().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:Ya,unstable_isNewReconciler:!1},io={readContext:As,useCallback:Wa,useContext:As,useEffect:Ua,useImperativeHandle:qa,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Ka,useReducer:Sa,useRef:Oa,useState:function(){return Sa(ka)},useDebugValue:Ha,useDeferredValue:function(e){var t=Ea();return null===ha?t.memoizedState=e:Ga(t,ha.memoizedState,e)},useTransition:function(){return[Sa(ka)[0],Ea().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:Ya,unstable_isNewReconciler:!1};function so(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Vs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Vs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=ac(e),i=Vs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(oc(t,e,r,n),Bs(t,e,r))}};function lo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function co(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Ri(t)?Ai:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Ri(t)?Ai:Ti.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oo.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var go="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Vs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,$l=r),mo(0,t)},n}function yo(e,t,n){(n=Vs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new go;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function wo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=w.ReactCurrentOwner,No=!1;function So(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ba(e,t,n,r,s,i),n=wa(),null===e||No?(is&&n&&es(t),t.flags|=1,So(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yo(e,t,i))}function Co(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,To(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Fc(s,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(No=!0)}}return jo(e,t,n,r,i)}function Io(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Fl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Fl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_i(Fl,Ml),Ml|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_i(Fl,Ml),Ml|=r;return So(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,i){var s=Ri(n)?Ai:Ti.current;return s=ji(t,s),Is(t,i),n=ba(e,t,n,r,s,i),r=wa(),null===e||No?(is&&r&&es(t),t.flags|=1,So(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yo(e,t,i))}function Ro(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Is(t,i),null===t.stateNode)Qo(e,t),co(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=ji(t,c=Ri(n)?Ai:Ti.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&uo(t,a,r,c),Ls=!1;var d=t.memoizedState;a.state=d,Hs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||Ls?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Ls||lo(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:so(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=ji(t,l=Ri(n)?Ai:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&uo(t,a,r,l),Ls=!1,d=t.memoizedState,a.state=d,Hs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ii.current||Ls?("function"===typeof f&&(ao(t,n,f,r),p=t.memoizedState),(c=Ls||lo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,s,i)}function Po(e,t,n,r,i,s){Ao(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Yo(e,t,s);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):So(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Zs(e,t.containerInfo)}function Oo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,So(e,t,n,r),t.child}var Lo,Mo,Fo,Uo,Vo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,a=ra.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ra,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=zc(l,i,0,null),e=Vc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Vo,e):qo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Ho(e,t,o,r=po(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(a=Vc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Vo,a);if(0===(1&t.mode))return Ho(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ho(e,t,o,r=po(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),No||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),oc(r,e,i,-1))}return wc(),Ho(e,t,o,r=po(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=qo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Fc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Fc(r,o):(o=Vc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vo,i}return e=(o=e.child).sibling,i=Fc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qo(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ho(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Ko(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(So(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jo(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Jo(t),null;case 3:return r=t.stateNode,ea(),Si(Ii),Si(Ti),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(hc(ss),ss=null))),Mo(e,t),Jo(t),null;case 5:na(t);var i=Js($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Fo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Jo(t),null}if(e=Js(Gs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Jo(t),null;case 6:if(e&&null!=t.stateNode)Uo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js($s.current),Js(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Jo(t),null;case 13:if(Si(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jo(t),a=!1}else null!==ss&&(hc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Ul&&(Ul=3):wc())),null!==t.updateQueue&&(t.flags|=4),Jo(t),null);case 4:return ea(),Mo(e,t),null===e&&Br(t.stateNode.containerInfo),Jo(t),null;case 10:return Cs(t.type._context),Jo(t),null;case 19:if(Si(ra),null===(a=t.memoizedState))return Jo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)$o(a,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,$o(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Gl&&(t.flags|=128,r=!0,$o(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$o(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Jo(t),null}else 2*Je()-a.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,$o(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ra.current,_i(ra,r?1&n|2:1&n),t):(Jo(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Jo(t),6&t.subtreeFlags&&(t.flags|=8192)):Jo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ea(),Si(Ii),Si(Ti),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(Si(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ra),null;case 4:return ea(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Fo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Gs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function dl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,vl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,vl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&sl(n,t,a),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ic(n,t,o)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));yl(a,o,i),ml=null,gl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Us){Ic(i,t,Us)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),El(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){Ic(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:wl(t,e),El(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),El(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(wl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(wl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:wl(t,e),El(e);break;case 13:wl(t,e),El(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Kl=Je())),4&r&&bl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||h,wl(t,e),tl=u):wl(t,e),El(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(d=rl=h;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,rl=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ic(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),El(e),4&r&&bl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),pl(e,dl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,dl(e),a);break;default:throw Error(s(161))}}catch(Os){Ic(e,e.return,Os)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function kl(e,t,n){rl=e,Nl(e,t,n)}function Nl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,rl=l):Cl(i);for(;null!==s;)rl=s,Nl(s,t,n),s=s.sibling;rl=i,el=o,tl=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):Sl(e)}}function Sl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:so(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ws(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}tl||512&t.flags&&cl(t)}catch(Qs){Ic(t,t.return,Qs)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function _l(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Os){Ic(t,n,Os)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Os){Ic(t,i,Os)}}var s=t.return;try{cl(t)}catch(Os){Ic(t,s,Os)}break;case 5:var a=t.return;try{cl(t)}catch(Os){Ic(t,a,Os)}}}catch(Os){Ic(t,t.return,Os)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var Tl,Il=Math.ceil,Al=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Pl=0,Dl=null,Ol=null,Ll=0,Ml=0,Fl=Ni(0),Ul=0,Vl=null,zl=0,Bl=0,ql=0,Hl=null,Wl=null,Kl=0,Gl=1/0,Ql=null,Yl=!1,$l=null,Jl=null,Xl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function sc(){return 0!==(6&Pl)?Je():-1!==rc?rc:rc=Je()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ll?Ll&-Ll:null!==ms.transition?(0===ic&&(ic=mt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function oc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(s(185));vt(e,n,r),0!==(2&Pl)&&e===Dl||(e===Dl&&(0===(2&Pl)&&(Bl|=n),4===Ul&&dc(e,Ll)),lc(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Gl=Je()+500,Ui&&Bi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Dl?Ll:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(fc.bind(null,e)):zi(fc.bind(null,e)),ai(function(){0===(6&Pl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Pl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Pl;Pl|=2;var a=bc();for(Dl===e&&Ll===t||(Ql=null,Gl=Je()+500,vc(e,t));;)try{kc();break}catch(l){yc(e,l)}_s(),Al.current=a,Pl=i,null!==Ol?t=0:(Dl=null,Ll=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Vl,vc(e,0),dc(e,r),lc(e,Je()),n;if(6===t)dc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Vl,vc(e,0),dc(e,r),lc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Wl,Ql);break;case 3:if(dc(e,r),(130023424&r)===r&&10<(t=Kl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Wl,Ql),t);break}_c(e,Wl,Ql);break;case 4:if(dc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Wl,Ql),r);break}_c(e,Wl,Ql);break;default:throw Error(s(329))}}}return lc(e,Je()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Wl,Wl=n,null!==t&&hc(t)),e}function hc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function dc(e,t){for(t&=~ql,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Pl))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return lc(e,Je()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Vl,vc(e,0),dc(e,t),lc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Wl,Ql),lc(e,Je()),null}function pc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Gl=Je()+500,Ui&&Bi())}}function mc(e){null!==Zl&&0===Zl.tag&&0===(6&Pl)&&Cc();var t=Pl;Pl|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Pl=t))&&Bi()}}function gc(){Ml=Fl.current,Si(Fl)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ea(),Si(Ii),Si(Ti),aa();break;case 5:na(r);break;case 4:ea();break;case 13:case 19:Si(ra);break;case 10:Cs(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Dl=e,Ol=e=Fc(e.current,null),Ll=Ml=t,Ul=0,Vl=null,ql=Bl=zl=0,Wl=Hl=null,null!==js){for(t=0;t<js.length;t++)if(null!==(r=(n=js[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}js=null}return e}function yc(e,t){for(;;){var n=Ol;try{if(_s(),oa.current=to,fa){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ca=0,da=ha=ua=null,pa=!1,ma=0,jl.current=null,null===n||null===n.return){Ul=1,Vl=t,Ol=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=wo(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&bo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){bo(a,u,t),wc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=wo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xo(v,o,l,0,t),ps(fo(c,l));break e}}a=c=fo(c,l),4!==Ul&&(Ul=2),null===Hl?Hl=[a]:Hl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qs(a,vo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Jl||!Jl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,qs(a,yo(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(Xs){t=Xs,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function bc(){var e=Al.current;return Al.current=to,null===e?to:e}function wc(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Dl||0===(268435455&zl)&&0===(268435455&Bl)||dc(Dl,Ll)}function xc(e,t){var n=Pl;Pl|=2;var r=bc();for(Dl===e&&Ll===t||(Ql=null,vc(e,t));;)try{Ec();break}catch(i){yc(e,i)}if(_s(),Pl=n,Al.current=r,null!==Ol)throw Error(s(261));return Dl=null,Ll=0,Ul}function Ec(){for(;null!==Ol;)Nc(Ol)}function kc(){for(;null!==Ol&&!Ye();)Nc(Ol)}function Nc(e){var t=Tl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Sc(e):Ol=t,jl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ul=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ul&&(Ul=5)}function _c(e,t,n){var r=bt,i=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==Zl);if(0!==(6&Pl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Ol=Dl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Dc(tt,function(){return Cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Rl.transition,Rl.transition=null;var o=bt;bt=1;var l=Pl;Pl|=4,jl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Eo){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:so(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Eo){Ic(t,t.return,Eo)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),xl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,kl(n,e,i),$e(),Pl=l,bt=o,Rl.transition=a}else e.current=n;if(Xl&&(Xl=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Jl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=$l,$l=null,e;0!==(1&ec)&&0!==e.tag&&Cc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Bi()}(e,t,n,r)}finally{Rl.transition=i,bt=r}return null}function Cc(){if(null!==Zl){var e=wt(ec),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Pl))throw Error(s(331));var i=Pl;for(Pl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:ol(8,h,a)}var d=h.child;if(null!==d)d.return=h,rl=d;else for(;null!==rl;){var f=(h=rl).sibling,p=h.return;if(ul(h),h===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,rl=w;else e:for(o=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(Xs){Ic(l,l.return,Xs)}if(l===o){rl=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,rl=x;break e}rl=l.return}}if(Pl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Xs){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Tc(e,t,n){e=zs(e,t=vo(0,t=fo(n,t),1),1),t=sc(),null!==e&&(vt(e,1,t),lc(e,t))}function Ic(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=zs(t,e=yo(t,e=fo(n,e),1),1),e=sc(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Ll&n)===n&&(4===Ul||3===Ul&&(130023424&Ll)===Ll&&500>Je()-Kl?vc(e,0):ql|=n),lc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=sc();null!==(e=Ds(e,t))&&(vt(e,t,n),lc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),jc(e,n)}function Dc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Vc(n.children,i,a,t);case N:o=8,i|=8;break;case S:return(e=Lc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case I:return(e=Lc(13,n,t,i)).elementType=I,e.lanes=a,e;case A:return(e=Lc(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return zc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case T:o=11;break e;case j:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,i,s,a,o,l){return e=new Hc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Kc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function Gc(e,t,n,r,i,s,a,o,l){return(e=Wc(n,r,!0,e,0,s,0,o,l)).context=Kc(null),n=e.current,(s=Vs(r=sc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,vt(e,i,r),lc(e,r),e}function Qc(e,t,n,r){var i=t.current,s=sc(),a=ac(i);return n=Kc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(oc(e,i,a,s),Bs(e,i,a)),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)No=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fs();break;case 5:ta(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(_i(ra,1&ra.current),null!==(e=Yo(e,t,n))?e.sibling:null);_i(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,n)}return Yo(e,t,n)}(e,t,n);No=0!==(131072&e.flags)}else No=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var i=ji(t,Ti.current);Is(t,n),i=ba(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=oo,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=Po(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),So(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=so(r,e),i){case 0:t=jo(null,t,r,e,n);break e;case 1:t=Ro(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Co(null,t,r,so(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:so(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:so(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Oo(e,t,r,n,i=fo(Error(s(423)),t));break e}if(r!==i){t=Oo(e,t,r,n,i=fo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Yo(e,t,n);break e}So(e,t,r,n)}t=t.child}return t;case 5:return ta(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Ao(e,t),So(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Bo(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):So(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:so(r,i),n);case 7:return So(e,t,t.pendingProps,n),t.child;case 8:case 12:return So(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,_i(Es,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Yo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Vs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}So(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=As(i)),t.flags|=1,So(e,t,r,n),t.child;case 14:return i=so(r=t.type,t.pendingProps),Co(e,t,r,i=so(r.type,i),n);case 15:return To(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:so(r,i),Qo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Is(t,n),co(t,r,i),ho(t,r,i,n),Po(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return Io(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function su(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Yc(a);o.call(e)}}Qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yc(a);s.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",iu);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),mc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Yc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),mc(function(){Qc(t,l,n,r)}),l}(n,t,e,i,r);return Yc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc(function(){Qc(null,e,null,null)}),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Je()),0===(6&Pl)&&(Gl=Je()+500,Bi()))}break;case 13:mc(function(){var t=Ds(e,1);if(null!==t){var n=sc();oc(t,e,1,n)}}),Jc(e,1)}},Et=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)oc(t,e,134217728,sc());Jc(e,134217728)}},kt=function(e){if(13===e.tag){var t=ac(e),n=Ds(e,t);if(null!==n)oc(n,e,t,sc());Jc(e,t)}},Nt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=pc,Ie=mc;var au={usingClientEntryPoint:!1,Events:[bi,wi,xi,_e,Ce,pc]},ou={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),st=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(s(299));var n=!1,r="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!ru(t))throw Error(s(200));return su(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!ru(t))throw Error(s(200));return su(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(s(40));return!!e._reactRootContainer&&(mc(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ru(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return su(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),d=e,()=>{s.removeEventListener(u,y),d=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=w.createHref(i);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}a&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let s=f(i,g),c=w.createHref(i);o.replaceState(s,"",c),a&&d&&d({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=j(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,S=2,_=1,C=10,T=-2,I=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=T),t&&(r+=S),n.filter(e=>!I(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?_:C),r)}function j(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:U([s,u.pathname]),pathnameBase:V(U([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=U([s,u.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const $=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Z(){return null!=i.useContext($)}function ee(){return Z()||h(!1),i.useContext($).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=fe(he.UseNavigateStable),t=me(de.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext(J),{pathname:a}=ee(),o=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let c=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e]);return c}()}function re(){let{matches:e}=i.useContext(J),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext(J),{pathname:a}=ee(),o=JSON.stringify(M(s,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,s){Z()||h(!1);let{navigator:a}=i.useContext(Y),{matches:o}=i.useContext(J),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&w?i.createElement($.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function ae(){let e=function(){var e;let t=i.useContext(X),n=pe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(ae,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||ge[p]||(ge[p]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function fe(e){let t=i.useContext(G);return t||h(!1),t}function pe(e){let t=i.useContext(Q);return t||h(!1),t}function me(e){let t=function(){let e=i.useContext(J);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||h(!1);let{future:a,static:o}=i.useContext(Y),{matches:l}=i.useContext(J),{pathname:c}=ee(),u=ne(),d=F(t,M(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function be(e){h(!1)}function we(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,b=i.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}},[u,f,p,m,v,y,a]);return null==b?null:i.createElement(Y.Provider,{value:d},i.createElement($.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return se(Ee(t),n)}new Promise(()=>{});i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,s));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ee(e.props.children,s)),n.push(a)}),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(bb){}new Map;const _e=s.startTransition;l.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback(e=>{h&&_e?_e(()=>u(e)):u(e)},[u,h]);return i.useLayoutEffect(()=>l.listen(d),[l,d]),i.useEffect(()=>ve(r),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Ne(e,Se),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(bb){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=ie(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,r,s,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return i.createElement("a",ke({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var je,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(je||(je={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function De(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Oe(e,t,n){return(t=De(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){Oe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Fe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ve;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(e){return function(e){const t=Fe(e);return Ue.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Be=function(e){try{return Ue.decodeString(e,!0)}catch(bb){console.error("base64Decode failed: ",bb)}return null};const qe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return qe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBGtnLUjAIZrm8JAS9Gd5mht-oMXYrH85I",REACT_APP_FIREBASE_APP_ID:"1:760769633537:web:4bce1c1903e9c22291cf00",REACT_APP_FIREBASE_AUTH_DOMAIN:"handy-s-6961d.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"760769633537",REACT_APP_FIREBASE_PROJECT_ID:"handy-s-6961d,",REACT_APP_FIREBASE_STORAGE_BUCKET:"handy-s-6961d.firebasestorage.app",REACT_APP_VAPID_KEY:"BL4Kr1gSBWcAg16jlgU2rGPawDi4soxIu3mZO1K0wfSPpDJzP-Zlu6U3HLH3d5oDYuooi6LFLEAPqBFXid9HV1g"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bb){return}const t=e&&Be(e[1]);return t&&JSON.parse(t)})()}catch(bb){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(bb))}},We=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ke=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},Ge=e=>{var t;return null===(t=He())||void 0===t?void 0:t["_".concat(e)]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ye(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $e(){try{return"object"===typeof indexedDB}catch(bb){return!1}}class Je extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ze,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Je(n,s,t)}}const Ze=/\{\$([^}]+)}/g;function et(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(tt(n)&&tt(s)){if(!et(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tt(e){return null!==e&&"object"===typeof e}function nt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function it(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class st{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=at),void 0===r.error&&(r.error=at),void 0===r.complete&&(r.complete=at);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(bb){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(bb){"undefined"!==typeof console&&console.error&&console.error(bb)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function at(){}function ot(e){return e&&e._delegate?e._delegate:e}class lt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ct="[DEFAULT]";class ut{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(bb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(bb){if(r)return null;throw bb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ct})}catch(bb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(bb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ct?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return this.component?this.component.multipleInstances?e:ct:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ht{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ut(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dt=[];var ft;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ft||(ft={}));const pt={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},mt=ft.INFO,gt={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},vt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=gt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class yt{constructor(e){this.name=e,this._logLevel=mt,this._logHandler=vt,this._userLogHandler=null,dt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?pt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...t),this._logHandler(this,ft.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...t),this._logHandler(this,ft.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ft.INFO,...t),this._logHandler(this,ft.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ft.WARN,...t),this._logHandler(this,ft.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...t),this._logHandler(this,ft.ERROR,...t)}}let bt,wt;const xt=new WeakMap,Et=new WeakMap,kt=new WeakMap,Nt=new WeakMap,St=new WeakMap;let _t={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return It(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wt||(wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(At(this),n),It(xt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return It(e.apply(At(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(At(this),t,...r);return kt.set(s,t.sort?t.sort():[t]),It(s)}}function Tt(e){return"function"===typeof e?Ct(e):(e instanceof IDBTransaction&&function(e){if(Et.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Et.set(e,t)}(e),t=e,(bt||(bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,_t):e);var t}function It(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(It(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&xt.set(t,e)}).catch(()=>{}),St.set(t,e),t}(e);if(Nt.has(e))return Nt.get(e);const t=Tt(e);return t!==e&&(Nt.set(e,t),St.set(t,e)),t}const At=e=>St.get(e);const jt=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Pt=new Map;function Dt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Pt.get(t))return Pt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Pt.set(t,s),s}_t=(e=>Me(Me({},e),{},{get:(t,n,r)=>Dt(t,n)||e.get(t,n,r),has:(t,n)=>!!Dt(t,n)||e.has(t,n)}))(_t);class Ot{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Lt="@firebase/app",Mt="0.9.13",Ft=new yt("@firebase/app"),Ut="@firebase/app-compat",Vt="@firebase/analytics-compat",zt="@firebase/analytics",Bt="@firebase/app-check-compat",qt="@firebase/app-check",Ht="@firebase/auth",Wt="@firebase/auth-compat",Kt="@firebase/database",Gt="@firebase/database-compat",Qt="@firebase/functions",Yt="@firebase/functions-compat",$t="@firebase/installations",Jt="@firebase/installations-compat",Xt="@firebase/messaging",Zt="@firebase/messaging-compat",en="@firebase/performance",tn="@firebase/performance-compat",nn="@firebase/remote-config",rn="@firebase/remote-config-compat",sn="@firebase/storage",an="@firebase/storage-compat",on="@firebase/firestore",ln="@firebase/firestore-compat",cn="firebase",un="[DEFAULT]",hn={[Lt]:"fire-core",[Ut]:"fire-core-compat",[zt]:"fire-analytics",[Vt]:"fire-analytics-compat",[qt]:"fire-app-check",[Bt]:"fire-app-check-compat",[Ht]:"fire-auth",[Wt]:"fire-auth-compat",[Kt]:"fire-rtdb",[Gt]:"fire-rtdb-compat",[Qt]:"fire-fn",[Yt]:"fire-fn-compat",[$t]:"fire-iid",[Jt]:"fire-iid-compat",[Xt]:"fire-fcm",[Zt]:"fire-fcm-compat",[en]:"fire-perf",[tn]:"fire-perf-compat",[nn]:"fire-rc",[rn]:"fire-rc-compat",[sn]:"fire-gcs",[an]:"fire-gcs-compat",[on]:"fire-fst",[ln]:"fire-fst-compat","fire-js":"fire-js",[cn]:"fire-js-all"},dn=new Map,fn=new Map;function pn(e,t){try{e.container.addComponent(t)}catch(bb){Ft.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),bb)}}function mn(e){const t=e.name;if(fn.has(t))return Ft.debug("There were multiple attempts to register component ".concat(t,".")),!1;fn.set(t,e);for(const n of dn.values())pn(n,e);return!0}function gn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const vn=new Xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const bn="9.23.0";function wn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vn.create("bad-app-name",{appName:String(i)});if(n||(n=Ke()),!n)throw vn.create("no-options");const s=dn.get(i);if(s){if(et(n,s.options)&&et(r,s.config))return s;throw vn.create("duplicate-app",{appName:i})}const a=new ht(i);for(const l of fn.values())a.addComponent(l);const o=new yn(n,r,a);return dn.set(i,o),o}function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un;const t=dn.get(e);if(!t&&e===un&&Ke())return wn();if(!t)throw vn.create("no-app",{appName:e});return t}function En(e,t,n){var r;let i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ft.warn(e.join(" "))}mn(new lt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const kn="firebase-heartbeat-store";let Nn=null;function Sn(){return Nn||(Nn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=It(a);return r&&a.addEventListener("upgradeneeded",e=>{r(It(a.result),e.oldVersion,e.newVersion,It(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(kn)}}).catch(e=>{throw vn.create("idb-open",{originalErrorMessage:e.message})})),Nn}async function _n(e,t){try{const n=(await Sn()).transaction(kn,"readwrite"),r=n.objectStore(kn);await r.put(t,Cn(e)),await n.done}catch(bb){if(bb instanceof Je)Ft.warn(bb.message);else{const t=vn.create("idb-set",{originalErrorMessage:null===bb||void 0===bb?void 0:bb.message});Ft.warn(t.message)}}}function Cn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Tn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new An(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=In();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=In(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),jn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ze(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function In(){return(new Date).toISOString().substring(0,10)}class An{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$e()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Sn();return await t.transaction(kn).objectStore(kn).get(Cn(e))}catch(bb){if(bb instanceof Je)Ft.warn(bb.message);else{const t=vn.create("idb-get",{originalErrorMessage:null===bb||void 0===bb?void 0:bb.message});Ft.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _n(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _n(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function jn(e){return ze(JSON.stringify({version:2,heartbeats:e})).length}var Rn;Rn="",mn(new lt("platform-logger",e=>new Ot(e),"PRIVATE")),mn(new lt("heartbeat",e=>new Tn(e),"PRIVATE")),En(Lt,Mt,Rn),En(Lt,Mt,"esm2017"),En("fire-js","");En("firebase","9.23.0","app");function Pn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Dn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const On=Dn,Ln=new Xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mn=new yt("@firebase/auth");function Fn(e){if(Mn.logLevel<=ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.error("Auth (".concat(bn,"): ").concat(e),...n)}}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Bn(e,...n)}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bn(e,...n)}function zn(e,t,n){const r=Object.assign(Object.assign({},On()),{[t]:n});return new Xe("auth","Firebase",r).create(t,{appName:e.name})}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ln.create(e,...n)}function qn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Bn(t,...r)}}function Hn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fn(t),new Error(t)}function Wn(e,t){e||Hn(t)}function Kn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Gn(){return"http:"===Qn()||"https:"===Qn()}function Qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Yn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Gn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class $n{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Yn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jn(e,t){Wn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Xn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},er=new $n(3e4,6e4);function tr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function nr(e,t,n,r){return rr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=nt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Xn.fetch()(sr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function rr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Zn),t);try{const t=new ar(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw or(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw or(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw or(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw or(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zn(e,o,a);Un(e,o)}}catch(bb){if(bb instanceof Je)throw bb;Un(e,"network-request-failed",{message:String(bb)})}}async function ir(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await nr(e,t,n,r,i);return"mfaPendingCredential"in s&&Un(e,"multi-factor-auth-required",{_serverResponse:s}),s}function sr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Jn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class ar{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Vn(this.auth,"network-request-failed")),er.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vn(e,t,r);return i.customData._tokenResponse=n,i}function lr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(bb){}}function cr(e){return 1e3*Number(e)}function ur(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Be(n);return e?JSON.parse(e):(Fn("Failed to decode base64 JWT payload"),null)}catch(bb){return Fn("Caught error parsing JWT payload as JSON",null===bb||void 0===bb?void 0:bb.toString()),null}}async function hr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(bb){throw bb instanceof Je&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(bb)&&e.auth.currentUser===e&&await e.auth.signOut(),bb}}class dr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(bb){return void((null===bb||void 0===bb?void 0:bb.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class fr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await hr(e,async function(e,t){return nr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));qn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=Pn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new fr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qn(e.idToken,"internal-error"),qn("undefined"!==typeof e.idToken,"internal-error"),qn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ur(e);return qn(t,"internal-error"),qn("undefined"!==typeof t.exp,"internal-error"),qn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await rr(e,{},async()=>{const n=nt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=sr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xn.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new mr;return n&&(qn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(qn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(qn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mr,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function gr(e,t){qn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Pn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await hr(this,this.stsTokenManager.getToken(this.auth,e));return qn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ot(e),r=await n.getIdToken(t),i=ur(r);qn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lr(cr(i.auth_time)),issuedAtTime:lr(cr(i.iat)),expirationTime:lr(cr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ot(e);await pr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await pr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hr(this,async function(e,t){return nr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;qn(y&&E,e,"internal-error");const k=mr.fromJSON(this.name,E);qn("string"===typeof y,e,"internal-error"),gr(u,e.name),gr(h,e.name),qn("boolean"===typeof b,e,"internal-error"),qn("boolean"===typeof w,e,"internal-error"),gr(d,e.name),gr(f,e.name),gr(p,e.name),gr(m,e.name),gr(g,e.name),gr(v,e.name);const N=new vr({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(N.providerData=x.map(e=>Object.assign({},e))),m&&(N._redirectEventId=m),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new mr;r.updateFromServerResponse(t);const i=new vr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await pr(i),i}}const yr=new Map;function br(e){Wn(e instanceof Function,"Expected a class definition");let t=yr.get(e);return t?(Wn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yr.set(e,t),t)}class wr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wr.type="NONE";const xr=wr;function Er(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class kr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Er(this.userKey,r.apiKey,i),this.fullPersistenceKey=Er("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kr(br(xr),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||br(xr);const s=Er(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=vr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new kr(i,e,n)):new kr(i,e,n)}}function Nr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ar(t))return"Blackberry";if(jr(t))return"Webos";if(_r(t))return"Safari";if((t.includes("chrome/")||Cr(t))&&!t.includes("edge/"))return"Chrome";if(Ir(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/firefox\//i.test(e)}function _r(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/crios\//i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/iemobile/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/android/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/blackberry/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/webos/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pr(){return function(){const e=Ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye();return Rr(e)||Ir(e)||jr(e)||Ar(e)||/windows phone/i.test(e)||Tr(e)}function Or(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nr(Ye());break;case"Worker":t="".concat(Nr(Ye()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bn,"/").concat(r)}async function Lr(e,t){return nr(e,"GET","/v2/recaptchaConfig",tr(e,t))}function Mr(e){return void 0!==e&&void 0!==e.enterprise}class Fr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Ur(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Vr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class zr{constructor(e){this.type="recaptcha-enterprise",this.auth=Wr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Mr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Lr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Fr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Mr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ur("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Br(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new zr(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class qr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(bb){r(bb)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(bb){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===bb||void 0===bb?void 0:bb.message})}}}class Hr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ln,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(bb){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(bb){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(bb))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(bb){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pr(e)}catch(bb){if((null===bb||void 0===bb?void 0:bb.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ot(e):null;return t&&qn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}async initializeRecaptchaConfig(){const e=await Lr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Fr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new zr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;qn(t,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return qn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mn.logLevel<=ft.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.warn("Auth (".concat(bn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Wr(e){return ot(e)}class Kr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new st(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return qn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gr(e,t,n){const r=Wr(e);qn(r._canInitEmulator,r,"emulator-config-failed"),qn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Qr(t),{host:a,port:o}=function(e){const t=Qr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yr(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $r{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,t){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function Jr(e,t){return nr(e,"POST","/v1/accounts:update",t)}async function Xr(e,t){return ir(e,"POST","/v1/accounts:signInWithPassword",tr(e,t))}class Zr extends $r{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zr(e,t,"password")}static _fromEmailAndCode(e,t){return new Zr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Br(e,n,"signInWithPassword");return Xr(e,t)}return Xr(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Br(e,n,"signInWithPassword");return Xr(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithEmailLink",tr(e,t))}(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Jr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithEmailLink",tr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ei(e,t){return ir(e,"POST","/v1/accounts:signInWithIdp",tr(e,t))}class ti extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Pn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ti(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ei(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ei(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ei(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nt(t)}return e}}const ni={USER_NOT_FOUND:"user-not-found"};class ri extends $r{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ri({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ri({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithPhoneNumber",tr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ir(e,"POST","/v1/accounts:signInWithPhoneNumber",tr(e,t));if(n.temporaryProof)throw or(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithPhoneNumber",tr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ni)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ri({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ii{constructor(e){var t,n,r,i,s,a;const o=rt(it(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);qn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=rt(it(e)).link,n=t?rt(it(t)).deep_link_id:null,r=rt(it(e)).deep_link_id;return(r?rt(it(r)).link:null)||r||n||t||e}(e);try{return new ii(t)}catch(n){return null}}}class si{constructor(){this.providerId=si.PROVIDER_ID}static credential(e,t){return Zr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ii.parseLink(t);return qn(n,"argument-error"),Zr._fromEmailAndCode(e,n.code,n.tenantId)}}si.PROVIDER_ID="password",si.EMAIL_PASSWORD_SIGN_IN_METHOD="password",si.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oi extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class li extends oi{constructor(){super("facebook.com")}static credential(e){return ti._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return li.credential(t.oauthAccessToken)}catch(n){return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com",li.PROVIDER_ID="facebook.com";class ci extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ti._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ci.credential(n,r)}catch(i){return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com",ci.PROVIDER_ID="google.com";class ui extends oi{constructor(){super("github.com")}static credential(e){return ti._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ui.credential(t.oauthAccessToken)}catch(n){return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com",ui.PROVIDER_ID="github.com";class hi extends oi{constructor(){super("twitter.com")}static credential(e,t){return ti._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hi.credential(n,r)}catch(i){return null}}}async function di(e,t){return ir(e,"POST","/v1/accounts:signUp",tr(e,t))}hi.TWITTER_SIGN_IN_METHOD="twitter.com",hi.PROVIDER_ID="twitter.com";class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vr._fromIdTokenResponse(e,n,r),s=pi(n);return new fi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pi(n);return new fi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mi extends Je{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mi(e,t,n,r)}}function gi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mi._fromErrorAndOperation(e,n,t,r);throw n})}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await hr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fi._forOperation(e,"link",r)}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await hr(e,gi(r,i,t,e),n);qn(s.idToken,r,"internal-error");const a=ur(s.idToken);qn(a,r,"internal-error");const{sub:o}=a;return qn(e.uid===o,r,"user-mismatch"),fi._forOperation(e,i,s)}catch(bb){throw(null===bb||void 0===bb?void 0:bb.code)==="auth/".concat("user-not-found")&&Un(r,"user-mismatch"),bb}}async function bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await gi(e,r,t),s=await fi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function wi(e,t){return bi(Wr(e),t)}new WeakMap;const xi="__sak";class Ei{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xi,"1"),this.storage.removeItem(xi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ki extends Ei{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ye();return _r(e)||Rr(e)}()&&function(){try{return!(!window||window===window.top)}catch(bb){return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Pr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ki.type="LOCAL";const Ni=ki;class Si extends Ei{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Si.type="SESSION";const _i=Si;class Ci{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ci(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ci.receivers=[];class Ii{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ti("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ai(){return window}function ji(){return"undefined"!==typeof Ai().WorkerGlobalScope&&"function"===typeof Ai().importScripts}const Ri="firebaseLocalStorageDb",Pi="firebaseLocalStorage",Di="fbase_key";class Oi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Li(e,t){return e.transaction([Pi],t?"readwrite":"readonly").objectStore(Pi)}function Mi(){const e=indexedDB.open(Ri,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Pi,{keyPath:Di})}catch(bb){n(bb)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Pi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ri);return new Oi(e).toPromise()}(),t(await Mi()))})})}async function Fi(e,t,n){const r=Li(e,!0).put({[Di]:t,value:n});return new Oi(r).toPromise()}function Ui(e,t){const n=Li(e,!0).delete(t);return new Oi(n).toPromise()}class Vi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Mi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(bb){if(t++>3)throw bb;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ji()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ci._getInstance(ji()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ii(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mi();return await Fi(e,xi,"1"),await Ui(e,xi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Li(e,!1).get(t),r=await new Oi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ui(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Li(e,!1).getAll();return new Oi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Vi.type="LOCAL";const zi=Vi;Vr("rcb"),new $n(3e4,6e4);const Bi="recaptcha";async function qi(e,t,n){var r;const i=await n.verify();try{let s;if(qn("string"===typeof i,e,"argument-error"),qn(n.type===Bi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){qn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return nr(e,"POST","/v2/accounts/mfaEnrollment:start",tr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;qn(n,e,"missing-multi-factor-info");const a=await function(e,t){return nr(e,"POST","/v2/accounts/mfaSignIn:start",tr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return nr(e,"POST","/v1/accounts:sendVerificationCode",tr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Hi{constructor(e){this.providerId=Hi.PROVIDER_ID,this.auth=Wr(e)}verifyPhoneNumber(e,t){return qi(this.auth,e,ot(t))}static credential(e,t){return ri._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Hi.credentialFromTaggedObject(t)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ri._fromTokenResponse(n,r):null}}function Wi(e,t){return t?br(t):(qn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hi.PROVIDER_ID="phone",Hi.PHONE_SIGN_IN_METHOD="phone";class Ki extends $r{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ei(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gi(e){return bi(e.auth,new Ki(e),e.bypassAuthState)}function Qi(e){const{auth:t,user:n}=e;return qn(n,t,"internal-error"),yi(n,new Ki(e),e.bypassAuthState)}async function Yi(e){const{auth:t,user:n}=e;return qn(n,t,"internal-error"),vi(n,new Ki(e),e.bypassAuthState)}class $i{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(bb){this.reject(bb)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(bb){this.reject(bb)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gi;case"linkViaPopup":case"linkViaRedirect":return Yi;case"reauthViaPopup":case"reauthViaRedirect":return Qi;default:Un(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ji=new $n(2e3,1e4);class Xi extends $i{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qn(e,this.auth,"internal-error"),e}async onExecution(){Wn(1===this.filter.length,"Popup operations only handle one event");const e=Ti();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ji.get())};e()}}Xi.currentPopupAction=null;const Zi=new Map;class es extends $i{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=rs(t),r=ns(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(bb){e=()=>Promise.reject(bb)}Zi.set(this.auth._key(),e)}return this.bypassAuthState||Zi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ts(e,t){Zi.set(e._key(),t)}function ns(e){return br(e._redirectPersistence)}function rs(e){return Er("pendingRedirect",e.config.apiKey,e.name)}async function is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Wr(e),i=Wi(r,t),s=new es(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ss{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return os(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!os(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(as(e))}saveEventToCache(e){this.cachedEventUids.add(as(e)),this.lastProcessedEventTime=Date.now()}}function as(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function os(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ls=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cs=/^https?/;async function us(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return nr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(hs(r))return}catch(n){}Un(e,"unauthorized-domain")}function hs(e){const t=Kn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cs.test(n))return!1;if(ls.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ds=new $n(3e4,6e4);function fs(){const e=Ai().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ps=null;function ms(e){return ps=ps||function(e){return new Promise((t,n)=>{var r,i,s;function a(){fs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fs(),n(Vn(e,"network-request-failed"))},timeout:ds.get()})}if(null===(i=null===(r=Ai().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ai().gapi)||void 0===s?void 0:s.load)){const t=Vr("iframefcb");return Ai()[t]=()=>{gapi.load?a():n(Vn(e,"network-request-failed"))},Ur("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw ps=null,e})}(e),ps}const gs=new $n(5e3,15e3),vs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ys=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bs(e){const t=e.config;qn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Jn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:bn},i=ys.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(nt(r).slice(1))}const ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(bb){}}}function Es(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ws),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ye().toLowerCase();n&&(o=Cr(c)?"_blank":n),Sr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Rr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new xs(null);const h=window.open(t||"",o,u);qn(h,e,"popup-blocked");try{h.focus()}catch(bb){}return new xs(h)}const ks="__/auth/handler",Ns="emulator/auth/handler",Ss=encodeURIComponent("fac");async function _s(e,t,n,r,i,s){qn(e.config.authDomain,e,"auth-domain-config-required"),qn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bn,eventId:i};if(t instanceof ai){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof oi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ss,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ks);return Jn(t,Ns)}(e),"?").concat(nt(o).slice(1)).concat(c)}const Cs="webStorageSupport";const Ts=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_i,this._completeRedirectFn=is,this._overrideRedirectResult=ts}async _openPopup(e,t,n,r){var i;Wn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Es(e,await _s(e,t,n,Kn(),r),Ti())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ai().location.href=e}(await _s(e,t,n,Kn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Wn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await ms(e),n=Ai().gapi;return qn(n,e,"internal-error"),t.open({where:document.body,url:bs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Vn(e,"network-request-failed"),s=Ai().setTimeout(()=>{r(i)},gs.get());function a(){Ai().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new ss(e);return t.register("authEvent",t=>{qn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cs,{type:Cs},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Cs];void 0!==i&&t(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=us(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dr()||_r()||Rr()}};var Is="@firebase/auth",As="0.23.2";class js{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rs=Ge("authIdTokenMaxAge")||300;let Ps=null;var Ds;Ds="Browser",mn(new lt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;qn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ds,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Or(Ds)},c=new Hr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),mn(new lt("auth-internal",e=>(e=>new js(e))(Wr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),En(Is,As,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ds)),En(Is,As,"esm2017");var Os,Ls="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ms={},Fs=Fs||{},Us=Ls||self;function Vs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bs="closure_uid_"+(1e9*Math.random()>>>0),qs=0;function Hs(e,t,n){return e.call.apply(e.bind,arguments)}function Ws(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ks(e,t,n){return(Ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hs:Ws).apply(null,arguments)}function Gs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ys(){this.s=this.s,this.o=this.o}Ys.prototype.s=!1,Ys.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bs)&&e[Bs]||(e[Bs]=++qs))},Ys.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $s=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Js(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xs(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Vs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Zs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zs.prototype.h=function(){this.defaultPrevented=!0};var ea=function(){if(!Us.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Us.addEventListener("test",()=>{},t),Us.removeEventListener("test",()=>{},t)}catch(n){}return e}();function ta(e){return/^[\s\xa0]*$/.test(e)}function na(){var e=Us.navigator;return e&&(e=e.userAgent)?e:""}function ra(e){return-1!=na().indexOf(e)}function ia(e){return ia[" "](e),e}ia[" "]=function(){};var sa,aa,oa=ra("Opera"),la=ra("Trident")||ra("MSIE"),ca=ra("Edge"),ua=ca||la,ha=ra("Gecko")&&!(-1!=na().toLowerCase().indexOf("webkit")&&!ra("Edge"))&&!(ra("Trident")||ra("MSIE"))&&!ra("Edge"),da=-1!=na().toLowerCase().indexOf("webkit")&&!ra("Edge");function fa(){var e=Us.document;return e?e.documentMode:void 0}e:{var pa="",ma=function(){var e=na();return ha?/rv:([^\);]+)(\)|;)/.exec(e):ca?/Edge\/([\d\.]+)/.exec(e):la?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):da?/WebKit\/(\S+)/.exec(e):oa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ma&&(pa=ma?ma[1]:""),la){var ga=fa();if(null!=ga&&ga>parseFloat(pa)){sa=String(ga);break e}}sa=pa}if(Us.document&&la){var va=fa();aa=va||(parseInt(sa,10)||void 0)}else aa=void 0;var ya=aa;function ba(e,t){if(Zs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ha){e:{try{ia(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ba.$.h.call(this)}}Qs(ba,Zs);var wa={2:"touch",3:"pen",4:"mouse"};ba.prototype.h=function(){ba.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),Ea=0;function ka(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ea,this.fa=this.ia=!1}function Na(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Sa(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _a(e){const t={};for(const n in e)t[n]=e[n];return t}const Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ca.length;t++)n=Ca[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ia(e){this.src=e,this.g={},this.h=0}function Aa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=$s(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Na(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ja(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ia.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=ja(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new ka(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ra="closure_lm_"+(1e6*Math.random()|0),Pa={};function Da(e,t,n,r,i){if(r&&r.once)return La(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Da(e,t[s],n,r,i);return null}return n=qa(n),e&&e[xa]?e.O(t,n,zs(r)?!!r.capture:!!r,i):Oa(e,t,n,!1,r,i)}function Oa(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=zs(i)?!!i.capture:!!i,o=za(e);if(o||(e[Ra]=o=new Ia(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Va;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ea||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ua(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function La(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)La(e,t[s],n,r,i);return null}return n=qa(n),e&&e[xa]?e.P(t,n,zs(r)?!!r.capture:!!r,i):Oa(e,t,n,!0,r,i)}function Ma(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ma(e,t[s],n,r,i);else r=zs(r)?!!r.capture:!!r,n=qa(n),e&&e[xa]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ja(s=e.g[t],n,r,i))&&(Na(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=za(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ja(t,n,r,i)),(n=-1<e?t[e]:null)&&Fa(n))}function Fa(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[xa])Aa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ua(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=za(t))?(Aa(n,e),0==n.h&&(n.src=null,t[Ra]=null)):Na(e)}}}function Ua(e){return e in Pa?Pa[e]:Pa[e]="on"+e}function Va(e,t){if(e.fa)e=!0;else{t=new ba(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Fa(e),e=n.call(r,t)}return e}function za(e){return(e=e[Ra])instanceof Ia?e:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function qa(e){return"function"===typeof e?e:(e[Ba]||(e[Ba]=function(t){return e.handleEvent(t)}),e[Ba])}function Ha(){Ys.call(this),this.i=new Ia(this),this.S=this,this.J=null}function Wa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Zs(t,e);else if(t instanceof Zs)t.target=t.target||e;else{var i=t;Ta(t=new Zs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ka(a,r,!0,t)&&i}if(i=Ka(a=t.g=e,r,!0,t)&&i,i=Ka(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ka(a=t.g=n[s],r,!1,t)&&i}function Ka(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Aa(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Qs(Ha,Ys),Ha.prototype[xa]=!0,Ha.prototype.removeEventListener=function(e,t,n,r){Ma(this,e,t,n,r)},Ha.prototype.N=function(){if(Ha.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Na(n[r]);delete t.g[e],t.h--}}this.J=null},Ha.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ha.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ga=Us.JSON.stringify;function Qa(){var e=to;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ya=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $a,e=>e.reset());class $a{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ja(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xa(e){Us.setTimeout(()=>{throw e},0)}let Za,eo=!1,to=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ya.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},no=()=>{const e=Us.Promise.resolve(void 0);Za=()=>{e.then(ro)}};var ro=()=>{for(var e;e=Qa();){try{e.h.call(e.g)}catch(n){Xa(n)}var t=Ya;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}eo=!1};function io(e,t){Ha.call(this),this.h=e||1,this.g=t||Us,this.j=Ks(this.qb,this),this.l=Date.now()}function so(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ao(e,t,n){if("function"===typeof e)n&&(e=Ks(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ks(e.handleEvent,e)}return 2147483647<Number(t)?-1:Us.setTimeout(e,t||0)}function oo(e){e.g=ao(()=>{e.g=null,e.i&&(e.i=!1,oo(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Qs(io,Ha),(Os=io.prototype).ga=!1,Os.T=null,Os.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wa(this,"tick"),this.ga&&(so(this),this.start()))}},Os.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Os.N=function(){io.$.N.call(this),so(this),delete this.g};class lo extends Ys{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(Us.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(e){Ys.call(this),this.h=e,this.g={}}Qs(co,Ys);var uo=[];function ho(e,t,n,r){Array.isArray(n)||(n&&(uo[0]=n.toString()),n=uo);for(var i=0;i<n.length;i++){var s=Da(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fo(e){Sa(e.g,function(e,t){this.g.hasOwnProperty(t)&&Fa(e)},e),e.g={}}function po(){this.g=!0}function mo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ga(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}co.prototype.N=function(){co.$.N.call(this),fo(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},po.prototype.Ea=function(){this.g=!1},po.prototype.info=function(){};var go={},vo=null;function yo(){return vo=vo||new Ha}function bo(e){Zs.call(this,go.Ta,e)}function wo(e){const t=yo();Wa(t,new bo(t))}function xo(e,t){Zs.call(this,go.STAT_EVENT,e),this.stat=t}function Eo(e){const t=yo();Wa(t,new xo(t,e))}function ko(e,t){Zs.call(this,go.Ua,e),this.size=t}function No(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Us.setTimeout(function(){e()},t)}go.Ta="serverreachability",Qs(bo,Zs),go.STAT_EVENT="statevent",Qs(xo,Zs),go.Ua="timingevent",Qs(ko,Zs);var So={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_o={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Co(){}function To(e){return e.h||(e.h=e.i())}function Io(){}Co.prototype.h=null;var Ao,jo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ro(){Zs.call(this,"d")}function Po(){Zs.call(this,"c")}function Do(){}function Oo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new co(this),this.P=Mo,e=ua?125:void 0,this.V=new io(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}Qs(Ro,Zs),Qs(Po,Zs),Qs(Do,Co),Do.prototype.g=function(){return new XMLHttpRequest},Do.prototype.i=function(){return{}},Ao=new Do;var Mo=45e3,Fo={},Uo={};function Vo(e,t,n){e.L=1,e.v=sl(el(t)),e.s=n,e.S=!0,zo(e,null)}function zo(e,t){e.G=Date.now(),Wo(e),e.A=el(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),yl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Lo,e.g=bc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new lo(Ks(e.Pa,e,e.g),e.O)),ho(e.U,e.g,"readystatechange",e.nb),t=e.I?_a(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),wo(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function Bo(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function qo(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Ho(e,n),r==Uo){4==t&&(e.o=4,Eo(14),i=!1),mo(e.j,e.m,null,"[Incomplete Response]");break}if(r==Fo){e.o=4,Eo(15),mo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mo(e.j,e.m,r,null),$o(e,r)}Bo(e)&&r!=Uo&&r!=Fo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Eo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hc(t),t.M=!0,Eo(11))):(mo(e.j,e.m,n,"[Invalid Chunked Response]"),Yo(e),Qo(e))}function Ho(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Uo:(n=Number(t.substring(n,r)),isNaN(n)?Fo:(r+=1)+n>t.length?Uo:(t=t.slice(r,r+n),e.C=r+n,t))}function Wo(e){e.Y=Date.now()+e.P,Ko(e,e.P)}function Ko(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=No(Ks(e.lb,e),t)}function Go(e){e.B&&(Us.clearTimeout(e.B),e.B=null)}function Qo(e){0==e.l.H||e.J||pc(e.l,e)}function Yo(e){Go(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,so(e.V),fo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function $o(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Sl(n.i,e)))if(!e.K&&Sl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;fc(n),rc(n)}uc(n),Eo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=No(Ks(n.ib,n),6e3));if(1>=Nl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else gc(n,11)}else if((e.K||n.g==e)&&fc(n),!ta(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_l(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,il(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=yc(r,r.J?r.pa:null,r.Y),a.K){Cl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Go(o),Wo(o)),r.g=a}else cc(r);0<n.j.length&&sc(n)}else"stop"!=c[0]&&"close"!=c[0]||gc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gc(n,7):nc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}wo()}catch(c){}}function Jo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Vs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Vs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Os=Oo.prototype).setTimeout=function(e){this.P=e},Os.nb=function(e){e=e.target;const t=this.M;t&&3==$l(e)?t.l():this.Pa(e)},Os.Pa=function(e){try{if(e==this.g)e:{const u=$l(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ua||this.g&&(this.h.h||this.g.ja()||Jl(this.g)))){this.J||4!=u||7==t||wo(),Go(this);var n=this.g.da();this.ca=n;t:if(Bo(this)){var r=Jl(this.g);e="";var i=r.length,s=4==$l(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yo(this),Qo(this);var a="";break t}this.h.i=new Us.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ta(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Eo(12),Yo(this),Qo(this);break e}mo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$o(this,n)}this.S?(qo(this,u,a),ua&&this.i&&3==u&&(ho(this.U,this.V,"tick",this.mb),this.V.start())):(mo(this.j,this.m,a,null),$o(this,a)),4==u&&Yo(this),this.i&&!this.J&&(4==u?pc(this.l,this):(this.i=!1,Wo(this)))}else(function(e){const t={};e=(e.g&&2<=$l(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ta(e[r]))continue;var n=Ja(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Eo(12)):(this.o=0,Eo(13)),Yo(this),Qo(this)}}}catch(u){}},Os.mb=function(){if(this.g){var e=$l(this.g),t=this.g.ja();this.C<t.length&&(Go(this),qo(this,e,t),this.i&&4!=e&&Wo(this))}},Os.cancel=function(){this.J=!0,Yo(this)},Os.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(wo(),Eo(17)),Yo(this),this.o=2,Qo(this)):Ko(this,this.Y-e)};var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zo){this.h=e.h,tl(this,e.j),this.s=e.s,this.g=e.g,nl(this,e.m),this.l=e.l;var t=e.i,n=new pl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),rl(this,n),this.o=e.o}else e&&(t=String(e).match(Xo))?(this.h=!1,tl(this,t[1]||"",!0),this.s=al(t[2]||""),this.g=al(t[3]||"",!0),nl(this,t[4]),this.l=al(t[5]||"",!0),rl(this,t[6]||"",!0),this.o=al(t[7]||"")):(this.h=!1,this.i=new pl(null,this.h))}function el(e){return new Zo(e)}function tl(e,t,n){e.j=n?al(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rl(e,t,n){t instanceof pl?(e.i=t,function(e,t){t&&!e.j&&(ml(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(gl(this,t),yl(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ol(t,dl)),e.i=new pl(t,e.h))}function il(e,t,n){e.i.set(t,n)}function sl(e){return il(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function al(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ol(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ll),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ll(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ol(t,cl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ol(t,cl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ol(n,"/"==n.charAt(0)?hl:ul,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ol(n,fl)),e.join("")};var cl=/[#\/\?@]/g,ul=/[#\?:]/g,hl=/[#\?]/g,dl=/[#\?@]/g,fl=/#/g;function pl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ml(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gl(e,t){ml(e),t=bl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vl(e,t){return ml(e),t=bl(e,t),e.g.has(t)}function yl(e,t,n){gl(e,t),0<n.length&&(e.i=null,e.g.set(bl(e,t),Js(n)),e.h+=n.length)}function bl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Os=pl.prototype).add=function(e,t){ml(this),this.i=null,e=bl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Os.forEach=function(e,t){ml(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Os.ta=function(){ml(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Os.Z=function(e){ml(this);let t=[];if("string"===typeof e)vl(this,e)&&(t=t.concat(this.g.get(bl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Os.set=function(e,t){return ml(this),this.i=null,vl(this,e=bl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Os.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Os.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var wl=class{constructor(e,t){this.g=e,this.map=t}};function xl(e){this.l=e||El,Us.PerformanceNavigationTiming?e=0<(e=Us.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Us.g&&Us.g.Ka&&Us.g.Ka()&&Us.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var El=10;function kl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Nl(e){return e.h?1:e.g?e.g.size:0}function Sl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _l(e,t){e.g?e.g.add(t):e.h=t}function Cl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Js(e.i)}xl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Il,Al=class{stringify(e){return Us.JSON.stringify(e,void 0)}parse(e){return Us.JSON.parse(e,void 0)}};function jl(){this.g=new Al}function Rl(e,t,n){const r=n||"";try{Jo(e,function(e,n){let i=e;zs(e)&&(i=Ga(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(bb){throw t.push(r+"type="+encodeURIComponent("_badmap")),bb}}function Pl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Dl(e){this.l=e.fc||null,this.j=e.ob||!1}function Ol(e,t){Ha.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ll,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qs(Dl,Co),Dl.prototype.g=function(){return new Ol(this.l,this.j)},Dl.prototype.i=(Il={},function(){return Il}),Qs(Ol,Ha);var Ll=0;function Ml(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Fl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ul(e)}function Ul(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Os=Ol.prototype).open=function(e,t){if(this.readyState!=Ll)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ul(this)},Os.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Us).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Os.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=Ll},Os.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Us.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ml(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Os.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fl(this):Ul(this),3==this.readyState&&Ml(this)}},Os.Za=function(e){this.g&&(this.response=this.responseText=e,Fl(this))},Os.Ya=function(e){this.g&&(this.response=e,Fl(this))},Os.ka=function(){this.g&&Fl(this)},Os.setRequestHeader=function(e,t){this.v.append(e,t)},Os.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Os.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vl=Us.JSON.parse;function zl(e){Ha.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Bl,this.L=this.M=!1}Qs(zl,Ha);var Bl="",ql=/^https?$/i,Hl=["POST","PUT"];function Wl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kl(e),Ql(e)}function Kl(e){e.F||(e.F=!0,Wa(e,"complete"),Wa(e,"error"))}function Gl(e){if(e.h&&"undefined"!=typeof Fs&&(!e.C[1]||4!=$l(e)||2!=e.da()))if(e.v&&4==$l(e))ao(e.La,0,e);else if(Wa(e,"readystatechange"),4==$l(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Xo)[1]||null;!i&&Us.self&&Us.self.location&&(i=Us.self.location.protocol.slice(0,-1)),r=!ql.test(i?i.toLowerCase():"")}n=r}if(n)Wa(e,"complete"),Wa(e,"success");else{e.m=6;try{var s=2<$l(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Kl(e)}}finally{Ql(e)}}}function Ql(e,t){if(e.g){Yl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Wa(e,"ready");try{n.onreadystatechange=r}catch(bb){}}}function Yl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Us.clearTimeout(e.A),e.A=null)}function $l(e){return e.g?e.g.readyState:0}function Jl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Bl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(nu){return null}}function Xl(e){let t="";return Sa(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Zl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):il(e,t,n))}function ec(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tc(e){this.Ga=0,this.j=[],this.l=new po,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,e),this.hb=ec("retryDelaySeedMs",1e4,e),this.eb=ec("forwardChannelMaxRetries",2,e),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new xl(e&&e.concurrentRequestLimit),this.Ja=new jl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nc(e){if(ic(e),3==e.H){var t=e.W++,n=el(e.I);if(il(n,"SID",e.K),il(n,"RID",t),il(n,"TYPE","terminate"),oc(e,n),(t=new Oo(e,e.l,t)).L=2,t.v=sl(el(n)),n=!1,Us.navigator&&Us.navigator.sendBeacon)try{n=Us.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Us.Image&&((new Image).src=t.v,n=!0),n||(t.g=bc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Wo(t)}vc(e)}function rc(e){e.g&&(hc(e),e.g.cancel(),e.g=null)}function ic(e){rc(e),e.u&&(Us.clearTimeout(e.u),e.u=null),fc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Us.clearTimeout(e.m),e.m=null)}function sc(e){if(!kl(e.i)&&!e.m){e.m=!0;var t=e.Na;Za||no(),eo||(Za(),eo=!0),to.add(t,e),e.C=0}}function ac(e,t){var n;n=t?t.m:e.W++;const r=el(e.I);il(r,"SID",e.K),il(r,"RID",n),il(r,"AID",e.V),oc(e,r),e.o&&e.s&&Zl(r,e.o,e.s),n=new Oo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=lc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_l(e.i,n),Vo(n,r,t)}function oc(e,t){e.na&&Sa(e.na,function(e,n){il(t,n,e)}),e.h&&Jo({},function(e,n){il(t,n,e)})}function lc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ks(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Rl(o,e,"req"+n+"_")}catch(fu){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function cc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Za||no(),eo||(Za(),eo=!0),to.add(t,e),e.A=0}}function uc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=No(Ks(e.Ma,e),mc(e,e.A)),e.A++,!0)}function hc(e){null!=e.B&&(Us.clearTimeout(e.B),e.B=null)}function dc(e){e.g=new Oo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=el(e.wa);il(t,"RID","rpc"),il(t,"SID",e.K),il(t,"AID",e.V),il(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&il(t,"TO",e.qa),il(t,"TYPE","xmlhttp"),oc(e,t),e.o&&e.s&&Zl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=sl(el(t)),n.s=null,n.S=!0,zo(n,e)}function fc(e){null!=e.v&&(Us.clearTimeout(e.v),e.v=null)}function pc(e,t){var n=null;if(e.g==t){fc(e),hc(e),e.g=null;var r=2}else{if(!Sl(e.i,t))return;n=t.F,Cl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Wa(r=yo(),new ko(r,n)),sc(e)}else cc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Nl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=No(Ks(e.Na,e,t),mc(e,e.C)),e.C++,!0))}(e,t)||2==r&&uc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gc(e,5);break;case 4:gc(e,10);break;case 3:gc(e,6);break;default:gc(e,2)}}function mc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function gc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ks(e.pb,e);n||(n=new Zo("//www.google.com/images/cleardot.gif"),Us.location&&"http"==Us.location.protocol||tl(n,"https"),sl(n)),function(e,t){const n=new po;if(Us.Image){const r=new Image;r.onload=Gs(Pl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gs(Pl,n,r,"TestLoadImage: error",!1,t),r.onabort=Gs(Pl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gs(Pl,n,r,"TestLoadImage: timeout",!1,t),Us.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eo(2);e.H=0,e.h&&e.h.za(t),vc(e),ic(e)}function vc(e){if(e.H=0,e.ma=[],e.h){const t=Tl(e.i);0==t.length&&0==e.j.length||(Xs(e.ma,t),Xs(e.ma,e.j),e.i.i.length=0,Js(e.j),e.j.length=0),e.h.ya()}}function yc(e,t,n){var r=n instanceof Zo?el(n):new Zo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nl(r,r.m);else{var i=Us.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Zo(null);r&&tl(s,r),t&&(s.g=t),i&&nl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&il(r,n,t),il(r,"VER",e.ra),oc(e,r),r}function bc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new zl(new Dl({ob:!0})):new zl(e.va)).Oa(e.J),t}function wc(){}function xc(){if(la&&!(10<=Number(ya)))throw Error("Environmental error: no available transport.")}function Ec(e,t){Ha.call(this),this.g=new tc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ta(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ta(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sc(this)}function kc(e){Ro.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nc(){Po.call(this),this.status=1}function Sc(e){this.g=e}function _c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Tc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Os=zl.prototype).Oa=function(e){this.M=e},Os.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ao.g(),this.C=this.u?To(this.u):To(Ao),this.g.onreadystatechange=Ks(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Wl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=Us.FormData&&e instanceof Us.FormData,!(0<=$s(Hl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yl(this),0<this.B&&((this.L=function(e){return la&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ks(this.ua,this)):this.A=ao(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Wl(this,s)}},Os.ua=function(){"undefined"!=typeof Fs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wa(this,"timeout"),this.abort(8))},Os.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wa(this,"complete"),Wa(this,"abort"),Ql(this))},Os.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ql(this,!0)),zl.$.N.call(this)},Os.La=function(){this.s||(this.G||this.v||this.l?Gl(this):this.kb())},Os.kb=function(){Gl(this)},Os.isActive=function(){return!!this.g},Os.da=function(){try{return 2<$l(this)?this.g.status:-1}catch(Il){return-1}},Os.ja=function(){try{return this.g?this.g.responseText:""}catch(Il){return""}},Os.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vl(t)}},Os.Ia=function(){return this.m},Os.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Os=tc.prototype).ra=8,Os.H=1,Os.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Oo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=_a(s),Ta(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=lc(this,i,t),il(n=el(this.I),"RID",e),il(n,"CVER",22),this.F&&il(n,"X-HTTP-Session-Id",this.F),oc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Xl(s)))+"&"+t:this.o&&Zl(n,this.o,s)),_l(this.i,i),this.bb&&il(n,"TYPE","init"),this.P?(il(n,"$req",t),il(n,"SID","null"),i.aa=!0,Vo(i,n,null)):Vo(i,n,t),this.H=2}}else 3==this.H&&(e?ac(this,e):0==this.j.length||kl(this.i)||ac(this))},Os.Ma=function(){if(this.u=null,dc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=No(Ks(this.jb,this),e)}},Os.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Eo(10),rc(this),dc(this))},Os.ib=function(){null!=this.v&&(this.v=null,rc(this),uc(this),Eo(19))},Os.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Eo(2)):(this.l.info("Failed to ping google.com"),Eo(1))},Os.isActive=function(){return!!this.h&&this.h.isActive(this)},(Os=wc.prototype).Ba=function(){},Os.Aa=function(){},Os.za=function(){},Os.ya=function(){},Os.isActive=function(){return!0},Os.Va=function(){},xc.prototype.g=function(e,t){return new Ec(e,t)},Qs(Ec,Ha),Ec.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Eo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=yc(e,null,e.Y),sc(e)},Ec.prototype.close=function(){nc(this.g)},Ec.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ga(e),e=n);t.j.push(new wl(t.fb++,e)),3==t.H&&sc(t)},Ec.prototype.N=function(){this.g.h=null,delete this.j,nc(this.g),delete this.g,Ec.$.N.call(this)},Qs(kc,Ro),Qs(Nc,Po),Qs(Sc,wc),Sc.prototype.Ba=function(){Wa(this.g,"a")},Sc.prototype.Aa=function(e){Wa(this.g,new kc(e))},Sc.prototype.za=function(e){Wa(this.g,new Nc)},Sc.prototype.ya=function(){Wa(this.g,"b")},Qs(_c,function(){this.blockSize=-1}),_c.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_c.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Cc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Cc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Cc(this,r),i=0;break}}this.h=i,this.i+=t},_c.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ic={};function Ac(e){return-128<=e&&128>e?function(e,t){var n=Ic;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Tc([0|e],0>e?-1:0)}):new Tc([0|e],0>e?-1:0)}function jc(e){if(isNaN(e)||!isFinite(e))return Pc;if(0>e)return Fc(jc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Rc;return new Tc(t,0)}var Rc=4294967296,Pc=Ac(0),Dc=Ac(1),Oc=Ac(16777216);function Lc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Mc(e){return-1==e.h}function Fc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Tc(n,~e.h).add(Dc)}function Uc(e,t){return e.add(Fc(t))}function Vc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function zc(e,t){this.g=e,this.h=t}function Bc(e,t){if(Lc(t))throw Error("division by zero");if(Lc(e))return new zc(Pc,Pc);if(Mc(e))return t=Bc(Fc(e),t),new zc(Fc(t.g),Fc(t.h));if(Mc(t))return t=Bc(e,Fc(t)),new zc(Fc(t.g),t.h);if(30<e.g.length){if(Mc(e)||Mc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Dc,r=t;0>=r.X(e);)n=qc(n),r=qc(r);var i=Hc(n,1),s=Hc(r,1);for(r=Hc(r,2),n=Hc(n,2);!Lc(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Hc(r,1),n=Hc(n,1)}return t=Uc(e,i.R(t)),new zc(i,t)}for(i=Pc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=jc(n)).R(t);Mc(a)||0<a.X(e);)a=(s=jc(n-=r)).R(t);Lc(s)&&(s=Dc),i=i.add(s),e=Uc(e,a)}return new zc(i,e)}function qc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Tc(n,e.h)}function Hc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Tc(i,e.h)}(Os=Tc.prototype).ea=function(){if(Mc(this))return-Fc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Rc+r)*t,t*=Rc}return e},Os.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Lc(this))return"0";if(Mc(this))return"-"+Fc(this).toString(e);for(var t=jc(Math.pow(e,6)),n=this,r="";;){var i=Bc(n,t).g,s=((0<(n=Uc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Lc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Os.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Os.X=function(e){return Mc(e=Uc(this,e))?-1:Lc(e)?0:1},Os.abs=function(){return Mc(this)?Fc(this):this},Os.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Tc(n,-2147483648&n[n.length-1]?-1:0)},Os.R=function(e){if(Lc(this)||Lc(e))return Pc;if(Mc(this))return Mc(e)?Fc(this).R(Fc(e)):Fc(Fc(this).R(e));if(Mc(e))return Fc(this.R(Fc(e)));if(0>this.X(Oc)&&0>e.X(Oc))return jc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Vc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Vc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Vc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Vc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Tc(n,0)},Os.gb=function(e){return Bc(this,e).h},Os.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Tc(n,this.h&e.h)},Os.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Tc(n,this.h|e.h)},Os.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Tc(n,this.h^e.h)},xc.prototype.createWebChannel=xc.prototype.g,Ec.prototype.send=Ec.prototype.u,Ec.prototype.open=Ec.prototype.m,Ec.prototype.close=Ec.prototype.close,So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,_o.COMPLETE="complete",Io.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",Ha.prototype.listen=Ha.prototype.O,zl.prototype.listenOnce=zl.prototype.P,zl.prototype.getLastError=zl.prototype.Sa,zl.prototype.getLastErrorCode=zl.prototype.Ia,zl.prototype.getStatus=zl.prototype.da,zl.prototype.getResponseJson=zl.prototype.Wa,zl.prototype.getResponseText=zl.prototype.ja,zl.prototype.send=zl.prototype.ha,zl.prototype.setWithCredentials=zl.prototype.Oa,_c.prototype.digest=_c.prototype.l,_c.prototype.reset=_c.prototype.reset,_c.prototype.update=_c.prototype.j,Tc.prototype.add=Tc.prototype.add,Tc.prototype.multiply=Tc.prototype.R,Tc.prototype.modulo=Tc.prototype.gb,Tc.prototype.compare=Tc.prototype.X,Tc.prototype.toNumber=Tc.prototype.ea,Tc.prototype.toString=Tc.prototype.toString,Tc.prototype.getBits=Tc.prototype.D,Tc.fromNumber=jc,Tc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Fc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=jc(Math.pow(n,8)),i=Pc,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=jc(Math.pow(n,a)),i=i.R(a).add(jc(o))):i=(i=i.R(r)).add(jc(o))}return i};var Wc=Ms.createWebChannelTransport=function(){return new xc},Kc=Ms.getStatEventTarget=function(){return yo()},Gc=Ms.ErrorCode=So,Qc=Ms.EventType=_o,Yc=Ms.Event=go,$c=Ms.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jc=Ms.FetchXmlHttpFactory=Dl,Xc=Ms.WebChannel=Io,Zc=Ms.XhrIo=zl,eu=Ms.Md5=_c,tu=Ms.Integer=Tc;const nu="@firebase/firestore";class ru{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ru.UNAUTHENTICATED=new ru(null),ru.GOOGLE_CREDENTIALS=new ru("google-credentials-uid"),ru.FIRST_PARTY=new ru("first-party-uid"),ru.MOCK_USER=new ru("mock-user");let iu="9.23.0";const su=new yt("@firebase/firestore");function au(){return su.logLevel}function ou(e){if(su.logLevel<=ft.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uu);su.debug("Firestore (".concat(iu,"): ").concat(e),...i)}}function lu(e){if(su.logLevel<=ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uu);su.error("Firestore (".concat(iu,"): ").concat(e),...i)}}function cu(e){if(su.logLevel<=ft.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uu);su.warn("Firestore (".concat(iu,"): ").concat(e),...i)}}function uu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(iu,") INTERNAL ASSERTION FAILED: ")+e;throw lu(t),new Error(t)}function du(e,t){e||hu()}function fu(e,t){return e}const pu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mu extends Je{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class gu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class yu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ru.UNAUTHENTICATED))}shutdown(){}}class bu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wu{constructor(e){this.t=e,this.currentUser=ru.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gu,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{ou("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ou("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gu)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ou("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(du("string"==typeof t.accessToken),new vu(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return du(null===e||"string"==typeof e),new ru(e)}}class xu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ru.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Eu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new xu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ru.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ku{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ou("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,ou("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ou("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ou("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(du("string"==typeof e.token),this.T=e.token,new ku(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Su(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class _u{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Su(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cu(e,t){return e<t?-1:e>t?1:0}function Tu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Iu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mu(pu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mu(pu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mu(pu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mu(pu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Iu.fromMillis(Date.now())}static fromDate(e){return Iu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Iu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cu(this.nanoseconds,e.nanoseconds):Cu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Au{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Au(e)}static min(){return new Au(new Iu(0,0))}static max(){return new Au(new Iu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ju{constructor(e,t,n){void 0===t?t=0:t>e.length&&hu(),void 0===n?n=e.length-t:n>e.length-t&&hu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ju.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ju?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ru extends ju{construct(e,t,n){return new Ru(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new mu(pu.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ru(e)}static emptyPath(){return new Ru([])}}const Pu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Du extends ju{construct(e,t,n){return new Du(e,t,n)}static isValidIdentifier(e){return Pu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Du.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Du(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mu(pu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mu(pu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mu(pu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new mu(pu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Du(t)}static emptyPath(){return new Du([])}}class Ou{constructor(e){this.path=e}static fromPath(e){return new Ou(Ru.fromString(e))}static fromName(e){return new Ou(Ru.fromString(e).popFirst(5))}static empty(){return new Ou(Ru.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ru.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ru.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ou(new Ru(e.slice()))}}class Lu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Lu.UNKNOWN_ID=-1;function Mu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Au.fromTimestamp(1e9===r?new Iu(n+1,0):new Iu(n,r));return new Uu(i,Ou.empty(),t)}function Fu(e){return new Uu(e.readTime,e.key,-1)}class Uu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Uu(Au.min(),Ou.empty(),-1)}static max(){return new Uu(Au.max(),Ou.empty(),-1)}}function Vu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ou.comparator(e.documentKey,t.documentKey),0!==n?n:Cu(e.largestBatchId,t.largestBatchId))}const zu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function qu(e){if(e.code!==pu.FAILED_PRECONDITION||e.message!==zu)throw e;ou("LocalStore","Unexpectedly lost primary lease")}class Hu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Hu?t:Hu.resolve(t)}catch(e){return Hu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Hu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Hu.reject(t)}static resolve(e){return new Hu((t,n)=>{t(e)})}static reject(e){return new Hu((t,n)=>{n(e)})}static waitFor(e){return new Hu((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Hu.resolve(!1);for(const n of e)t=t.next(e=>e?Hu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Hu((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Hu((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Wu(e){return"IndexedDbTransactionError"===e.name}class Ku{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Gu(e){return null==e}function Qu(e){return 0===e&&1/e==-1/0}function Yu(e){return"number"==typeof e&&Number.isInteger(e)&&!Qu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ku.ct=-1;const $u=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ju=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xu=Ju;function Zu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function th(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nh{constructor(e,t){this.comparator=e,this.root=t||ih.EMPTY}insert(e,t){return new nh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ih.BLACK,null,null))}remove(e){return new nh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ih.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ih{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ih.RED,this.left=null!=r?r:ih.EMPTY,this.right=null!=i?i:ih.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ih(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ih.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ih.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ih.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ih.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hu();if(this.right.isRed())throw hu();const e=this.left.check();if(e!==this.right.check())throw hu();return e+(this.isRed()?0:1)}}ih.EMPTY=null,ih.RED=!0,ih.BLACK=!1,ih.EMPTY=new class{constructor(){this.size=0}get key(){throw hu()}get value(){throw hu()}get color(){throw hu()}get left(){throw hu()}get right(){throw hu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ih(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sh{constructor(e){this.comparator=e,this.data=new nh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof sh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sh(this.comparator);return t.data=e,t}}class ah{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oh{constructor(e){this.fields=e,e.sort(Du.comparator)}static empty(){return new oh([])}unionWith(e){let t=new sh(Du.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new oh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class lh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ch{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new lh("Invalid base64 string: "+e):e}}(e);return new ch(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ch(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ch.EMPTY_BYTE_STRING=new ch("");const uh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hh(e){if(du(!!e),"string"==typeof e){let t=0;const n=uh.exec(e);if(du(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dh(e.seconds),nanos:dh(e.nanos)}}function dh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fh(e){return"string"==typeof e?ch.fromBase64String(e):ch.fromUint8Array(e)}function ph(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mh(e){const t=e.mapValue.fields.__previous_value__;return ph(t)?mh(t):t}function gh(e){const t=hh(e.mapValue.fields.__local_write_time__.timestampValue);return new Iu(t.seconds,t.nanos)}class vh{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class yh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}const bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ph(e)?4:Dh(e)?9007199254740991:10:hu()}function xh(e,t){if(e===t)return!0;const n=wh(e);if(n!==wh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gh(e).isEqual(gh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=hh(e.timestampValue),r=hh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fh(e.bytesValue).isEqual(fh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dh(e.geoPointValue.latitude)===dh(t.geoPointValue.latitude)&&dh(e.geoPointValue.longitude)===dh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dh(e.integerValue)===dh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dh(e.doubleValue),r=dh(t.doubleValue);return n===r?Qu(n)===Qu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tu(e.arrayValue.values||[],t.arrayValue.values||[],xh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zu(n)!==Zu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xh(n[i],r[i])))return!1;return!0}(e,t);default:return hu()}}function Eh(e,t){return void 0!==(e.values||[]).find(e=>xh(e,t))}function kh(e,t){if(e===t)return 0;const n=wh(e),r=wh(t);if(n!==r)return Cu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dh(e.integerValue||e.doubleValue),r=dh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Nh(e.timestampValue,t.timestampValue);case 4:return Nh(gh(e),gh(t));case 5:return Cu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=fh(e),r=fh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cu(n[i],r[i]);if(0!==e)return e}return Cu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cu(dh(e.latitude),dh(t.latitude));return 0!==n?n:Cu(dh(e.longitude),dh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kh(n[i],r[i]);if(e)return e}return Cu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===bh.mapValue&&t===bh.mapValue)return 0;if(e===bh.mapValue)return 1;if(t===bh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Cu(r[a],s[a]);if(0!==e)return e;const t=kh(n[r[a]],i[s[a]]);if(0!==t)return t}return Cu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hu()}}function Nh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cu(e,t);const n=hh(e),r=hh(t),i=Cu(n.seconds,r.seconds);return 0!==i?i:Cu(n.nanos,r.nanos)}function Sh(e){return _h(e)}function _h(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=hh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ou.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=_h(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(_h(e.fields[i]));return n+"}"}(e.mapValue):hu();var t,n}function Ch(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Th(e){return!!e&&"integerValue"in e}function Ih(e){return!!e&&"arrayValue"in e}function Ah(e){return!!e&&"nullValue"in e}function jh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rh(e){return!!e&&"mapValue"in e}function Ph(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return eh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ph(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ph(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Dh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Oh{constructor(e){this.value=e}static empty(){return new Oh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(t)}setAll(e){let t=Du.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ph(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){eh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Oh(Ph(this.value))}}function Lh(e){const t=[];return eh(e.fields,(e,n)=>{const r=new Du([e]);if(Rh(n)){const e=Lh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new oh(t)}class Mh{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mh(e,0,Au.min(),Au.min(),Au.min(),Oh.empty(),0)}static newFoundDocument(e,t,n,r){return new Mh(e,1,t,Au.min(),n,r,0)}static newNoDocument(e,t){return new Mh(e,2,t,Au.min(),Au.min(),Oh.empty(),0)}static newUnknownDocument(e,t){return new Mh(e,3,t,Au.min(),Au.min(),Oh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Au.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Au.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function Uh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ou.comparator(Ou.fromName(a.referenceValue),n.key):kh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Vh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xh(e.position[n],t.position[n]))return!1;return!0}class zh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Bh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qh{}class Hh extends qh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xh(e,t,n):"array-contains"===t?new nd(e,n):"in"===t?new rd(e,n):"not-in"===t?new id(e,n):"array-contains-any"===t?new sd(e,n):new Hh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zh(e,n):new ed(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kh(t,this.value)):null!==t&&wh(this.value)===wh(t)&&this.matchesComparison(kh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wh extends qh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Wh(e,t)}matches(e){return Kh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kh(e){return"and"===e.op}function Gh(e){return Qh(e)&&Kh(e)}function Qh(e){for(const t of e.filters)if(t instanceof Wh)return!1;return!0}function Yh(e){if(e instanceof Hh)return e.field.canonicalString()+e.op.toString()+Sh(e.value);if(Gh(e))return e.filters.map(e=>Yh(e)).join(",");{const t=e.filters.map(e=>Yh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function $h(e,t){return e instanceof Hh?function(e,t){return t instanceof Hh&&e.op===t.op&&e.field.isEqual(t.field)&&xh(e.value,t.value)}(e,t):e instanceof Wh?function(e,t){return t instanceof Wh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&$h(n,t.filters[r]),!0)}(e,t):void hu()}function Jh(e){return e instanceof Hh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Sh(e.value))}(e):e instanceof Wh?function(e){return e.op.toString()+" {"+e.getFilters().map(Jh).join(" ,")+"}"}(e):"Filter"}class Xh extends Hh{constructor(e,t,n){super(e,t,n),this.key=Ou.fromName(n.referenceValue)}matches(e){const t=Ou.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zh extends Hh{constructor(e,t){super(e,"in",t),this.keys=td("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ed extends Hh{constructor(e,t){super(e,"not-in",t),this.keys=td("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function td(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ou.fromName(e.referenceValue))}class nd extends Hh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ih(t)&&Eh(t.arrayValue,this.value)}}class rd extends Hh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eh(this.value.arrayValue,t)}}class id extends Hh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eh(this.value.arrayValue,t)}}class sd extends Hh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ih(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Eh(this.value.arrayValue,e))}}class ad{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function od(e){return new ad(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ld(e){const t=fu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Yh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Gu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Sh(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Sh(e)).join(",")),t.dt=e}return t.dt}function cd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$h(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vh(e.startAt,t.startAt)&&Vh(e.endAt,t.endAt)}function ud(e){return Ou.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function dd(e,t,n,r,i,s,a,o){return new hd(e,t,n,r,i,s,a,o)}function fd(e){return new hd(e)}function pd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function md(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gd(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function vd(e){return null!==e.collectionGroup}function yd(e){const t=fu(e);if(null===t.wt){t.wt=[];const e=gd(t),n=md(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new zh(e)),t.wt.push(new zh(Du.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new zh(Du.keyField(),e))}}}return t.wt}function bd(e){const t=fu(e);if(!t._t)if("F"===t.limitType)t._t=od(t.path,t.collectionGroup,yd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of yd(t)){const t="desc"===i.dir?"asc":"desc";e.push(new zh(i.field,t))}const n=t.endAt?new Fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fh(t.startAt.position,t.startAt.inclusive):null;t._t=od(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function wd(e,t){t.getFirstInequalityField(),gd(e);const n=e.filters.concat([t]);return new hd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xd(e,t,n){return new hd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ed(e,t){return cd(bd(e),bd(t))&&e.limitType===t.limitType}function kd(e){return"".concat(ld(bd(e)),"|lt:").concat(e.limitType)}function Nd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Jh(e)).join(", "),"]")),Gu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Sh(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Sh(e)).join(",")),"Target(".concat(t,")")}(bd(e)),"; limitType=").concat(e.limitType,")")}function Sd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ou.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Uh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Uh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yd(e),t))}(e,t)}function _d(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cd(e){return(t,n)=>{let r=!1;for(const i of yd(e)){const e=Td(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Td(e,t,n){const r=e.field.isKeyField()?Ou.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kh(r,i):hu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hu()}}class Id{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){eh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return th(this.inner)}size(){return this.innerSize}}const Ad=new nh(Ou.comparator);function jd(){return Ad}const Rd=new nh(Ou.comparator);function Pd(){let e=Rd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Dd(e){let t=Rd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Od(){return Md()}function Ld(){return Md()}function Md(){return new Id(e=>e.toString(),(e,t)=>e.isEqual(t))}const Fd=new nh(Ou.comparator),Ud=new sh(Ou.comparator);function Vd(){let e=Ud;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const zd=new sh(Cu);function Bd(){return zd}function qd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(t)?"-0":t}}function Hd(e){return{integerValue:""+e}}function Wd(e,t){return Yu(t)?Hd(t):qd(e,t)}class Kd{constructor(){this._=void 0}}function Gd(e,t,n){return e instanceof $d?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ph(t)&&(t=mh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jd?Xd(e,t):e instanceof Zd?ef(e,t):function(e,t){const n=Yd(e,t),r=nf(n)+nf(e.gt);return Th(n)&&Th(e.gt)?Hd(r):qd(e.serializer,r)}(e,t)}function Qd(e,t,n){return e instanceof Jd?Xd(e,t):e instanceof Zd?ef(e,t):n}function Yd(e,t){return e instanceof tf?Th(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class $d extends Kd{}class Jd extends Kd{constructor(e){super(),this.elements=e}}function Xd(e,t){const n=rf(t);for(const r of e.elements)n.some(e=>xh(e,r))||n.push(r);return{arrayValue:{values:n}}}class Zd extends Kd{constructor(e){super(),this.elements=e}}function ef(e,t){let n=rf(t);for(const r of e.elements)n=n.filter(e=>!xh(e,r));return{arrayValue:{values:n}}}class tf extends Kd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function nf(e){return dh(e.integerValue||e.doubleValue)}function rf(e){return Ih(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sf{constructor(e,t){this.field=e,this.transform=t}}class af{constructor(e,t){this.version=e,this.transformResults=t}}class of{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new of}static exists(e){return new of(void 0,e)}static updateTime(e){return new of(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cf{}function uf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wf(e.key,of.none()):new mf(e.key,e.data,of.none());{const n=e.data,r=Oh.empty();let i=new sh(Du.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gf(e.key,r,new oh(i.toArray()),of.none())}}function hf(e,t,n){e instanceof mf?function(e,t,n){const r=e.value.clone(),i=yf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gf?function(e,t,n){if(!lf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function df(e,t,n,r){return e instanceof mf?function(e,t,n,r){if(!lf(e.precondition,t))return n;const i=e.value.clone(),s=bf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gf?function(e,t,n,r){if(!lf(e.precondition,t))return n;const i=bf(e.fieldTransforms,r,t),s=t.data;return s.setAll(vf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return lf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ff(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Yd(r.transform,e||null);null!=i&&(null===n&&(n=Oh.empty()),n.set(r.field,i))}return n||null}function pf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jd&&t instanceof Jd||e instanceof Zd&&t instanceof Zd?Tu(e.elements,t.elements,xh):e instanceof tf&&t instanceof tf?xh(e.gt,t.gt):e instanceof $d&&t instanceof $d}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class mf extends cf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gf extends cf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function yf(e,t,n){const r=new Map;du(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Qd(a,o,n[i]))}return r}function bf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Gd(e,s,t))}return r}class wf extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xf extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ef{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=df(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=df(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ld();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=uf(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Au.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vd())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(e,t)=>pf(e,t))&&Tu(this.baseMutations,e.baseMutations,(e,t)=>pf(e,t))}}class kf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){du(e.mutations.length===n.length);let r=Fd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new kf(e,t,n,r)}}class Nf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Sf{constructor(e,t){this.count=e,this.unchangedNames=t}}var _f,Cf;function Tf(e){switch(e){default:return hu();case pu.CANCELLED:case pu.UNKNOWN:case pu.DEADLINE_EXCEEDED:case pu.RESOURCE_EXHAUSTED:case pu.INTERNAL:case pu.UNAVAILABLE:case pu.UNAUTHENTICATED:return!1;case pu.INVALID_ARGUMENT:case pu.NOT_FOUND:case pu.ALREADY_EXISTS:case pu.PERMISSION_DENIED:case pu.FAILED_PRECONDITION:case pu.ABORTED:case pu.OUT_OF_RANGE:case pu.UNIMPLEMENTED:case pu.DATA_LOSS:return!0}}function If(e){if(void 0===e)return lu("GRPC error has no .code"),pu.UNKNOWN;switch(e){case _f.OK:return pu.OK;case _f.CANCELLED:return pu.CANCELLED;case _f.UNKNOWN:return pu.UNKNOWN;case _f.DEADLINE_EXCEEDED:return pu.DEADLINE_EXCEEDED;case _f.RESOURCE_EXHAUSTED:return pu.RESOURCE_EXHAUSTED;case _f.INTERNAL:return pu.INTERNAL;case _f.UNAVAILABLE:return pu.UNAVAILABLE;case _f.UNAUTHENTICATED:return pu.UNAUTHENTICATED;case _f.INVALID_ARGUMENT:return pu.INVALID_ARGUMENT;case _f.NOT_FOUND:return pu.NOT_FOUND;case _f.ALREADY_EXISTS:return pu.ALREADY_EXISTS;case _f.PERMISSION_DENIED:return pu.PERMISSION_DENIED;case _f.FAILED_PRECONDITION:return pu.FAILED_PRECONDITION;case _f.ABORTED:return pu.ABORTED;case _f.OUT_OF_RANGE:return pu.OUT_OF_RANGE;case _f.UNIMPLEMENTED:return pu.UNIMPLEMENTED;case _f.DATA_LOSS:return pu.DATA_LOSS;default:return hu()}}(Cf=_f||(_f={}))[Cf.OK=0]="OK",Cf[Cf.CANCELLED=1]="CANCELLED",Cf[Cf.UNKNOWN=2]="UNKNOWN",Cf[Cf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cf[Cf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cf[Cf.NOT_FOUND=5]="NOT_FOUND",Cf[Cf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cf[Cf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cf[Cf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cf[Cf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cf[Cf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cf[Cf.ABORTED=10]="ABORTED",Cf[Cf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cf[Cf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cf[Cf.INTERNAL=13]="INTERNAL",Cf[Cf.UNAVAILABLE=14]="UNAVAILABLE",Cf[Cf.DATA_LOSS=15]="DATA_LOSS";class Af{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return jf}static getOrCreateInstance(){return null===jf&&(jf=new Af),jf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let jf=null;function Rf(){return new TextEncoder}const Pf=new tu([4294967295,4294967295],0);function Df(e){const t=Rf().encode(e),n=new eu;return n.update(t),new Uint8Array(n.digest())}function Of(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new tu([n,r],0),new tu([i,s],0)]}class Lf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mf("Invalid padding: ".concat(t));if(n<0)throw new Mf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Mf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Mf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=tu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(tu.fromNumber(n)));return 1===r.compare(Pf)&&(r=new tu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Df(e),[n,r]=Of(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Lf(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=Df(e),[n,r]=Of(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ff{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ff(Au.min(),r,new nh(Cu),jd(),Vd())}}class Uf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uf(n,t,Vd(),Vd(),Vd())}}class Vf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class zf{constructor(e,t){this.targetId=e,this.Vt=t}}class Bf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ch.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qf{constructor(){this.St=0,this.Dt=Kf(),this.Ct=ch.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Vd(),t=Vd(),n=Vd();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hu()}}),new Uf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Kf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Hf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jd(),this.zt=Wf(),this.Wt=new nh(Cu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:hu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(ud(s))if(0===r){const e=new Ou(s.path);this.Yt(n,e,Mh.newNoDocument(e,Au.min()))}else du(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Af.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=fh(i).toUint8Array()}catch(e){if(e instanceof lh)return cu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Lf(o,s,a)}catch(e){return cu(e instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&ud(i.target)){const t=new Ou(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Mh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Vd();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Ff(e,t,this.Wt,this.jt,n);return this.jt=jd(),this.zt=Wf(),this.Wt=new nh(Cu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new qf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new sh(Cu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ou("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Wf(){return new nh(Ou.comparator)}function Kf(){return new nh(Ou.comparator)}const Gf={asc:"ASCENDING",desc:"DESCENDING"},Qf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yf={and:"AND",or:"OR"};class $f{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jf(e,t){return e.useProto3Json||Gu(t)?t:{value:t}}function Xf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ep(e,t){return Xf(e,t.toTimestamp())}function tp(e){return du(!!e),Au.fromTimestamp(function(e){const t=hh(e);return new Iu(t.seconds,t.nanos)}(e))}function np(e,t){return function(e){return new Ru(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function rp(e){const t=Ru.fromString(e);return du(kp(t)),t}function ip(e,t){return np(e.databaseId,t.path)}function sp(e,t){const n=rp(t);if(n.get(1)!==e.databaseId.projectId)throw new mu(pu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mu(pu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ou(cp(n))}function ap(e,t){return np(e.databaseId,t)}function op(e){const t=rp(e);return 4===t.length?Ru.emptyPath():cp(t)}function lp(e){return new Ru(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cp(e){return du(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function up(e,t,n){return{name:ip(e,t),fields:n.value.mapValue.fields}}function hp(e,t){let n;if(t instanceof mf)n={update:up(e,t.key,t.value)};else if(t instanceof wf)n={delete:ip(e,t.key)};else if(t instanceof gf)n={update:up(e,t.key,t.data),updateMask:Ep(t.fieldMask)};else{if(!(t instanceof xf))return hu();n={verify:ip(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof $d)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw hu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ep(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hu()}(e,t.precondition)),n}function dp(e,t){return{documents:[ap(e,t.path)]}}function fp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ap(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ap(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return xp(Wh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:bp(e.field),direction:gp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Jf(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pp(e){let t=op(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){du(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=mp(e);return t instanceof Wh&&Gh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new zh(wp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Gu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Fh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Fh(n,t)}(n.endAt)),dd(t,i,a,s,o,"F",l,c)}function mp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wp(e.unaryFilter.field);return Hh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wp(e.unaryFilter.field);return Hh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wp(e.unaryFilter.field);return Hh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wp(e.unaryFilter.field);return Hh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hu()}}(e):void 0!==e.fieldFilter?function(e){return Hh.create(wp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wh.create(e.compositeFilter.filters.map(e=>mp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hu()}}(e.compositeFilter.op))}(e):hu()}function gp(e){return Gf[e]}function vp(e){return Qf[e]}function yp(e){return Yf[e]}function bp(e){return{fieldPath:e.canonicalString()}}function wp(e){return Du.fromServerFormat(e.fieldPath)}function xp(e){return e instanceof Hh?function(e){if("=="===e.op){if(jh(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NAN"}};if(Ah(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jh(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NOT_NAN"}};if(Ah(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bp(e.field),op:vp(e.op),value:e.value}}}(e):e instanceof Wh?function(e){const t=e.getFilters().map(e=>xp(e));return 1===t.length?t[0]:{compositeFilter:{op:yp(e.op),filters:t}}}(e):hu()}function Ep(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function kp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Np{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Au.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Au.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ch.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Np(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.fe=e}}function _p(e){const t=pp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xd(t,t.limit,"L"):t}class Cp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(dh(e.integerValue));else if("doubleValue"in e){const n=dh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Qu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(fh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Dh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Ou.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Cp.Ve=new Cp;class Tp{constructor(){this.rn=new Ip}addToCollectionParentIndex(e,t){return this.rn.add(t),Hu.resolve()}getCollectionParents(e,t){return Hu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Hu.resolve()}deleteFieldIndex(e,t){return Hu.resolve()}getDocumentsMatchingTarget(e,t){return Hu.resolve(null)}getIndexType(e,t){return Hu.resolve(0)}getFieldIndexes(e,t){return Hu.resolve([])}getNextCollectionGroupToUpdate(e){return Hu.resolve(null)}getMinOffset(e,t){return Hu.resolve(Uu.min())}getMinOffsetFromCollectionGroup(e,t){return Hu.resolve(Uu.min())}updateCollectionGroup(e,t,n){return Hu.resolve()}updateIndexEntries(e,t){return Hu.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sh(Ru.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sh(Ru.comparator)).toArray()}}new Uint8Array(0);class Ap{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ap(e,Ap.DEFAULT_COLLECTION_PERCENTILE,Ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ap.DEFAULT_COLLECTION_PERCENTILE=10,Ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ap.DEFAULT=new Ap(41943040,Ap.DEFAULT_COLLECTION_PERCENTILE,Ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ap.DISABLED=new Ap(-1,0,0);class jp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jp(0)}static Mn(){return new jp(-1)}}class Rp{constructor(){this.changes=new Id(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Dp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&df(n.mutation,e,oh.empty(),Iu.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Vd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vd();const r=Od();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Pd();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Od();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Vd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=jd();const s=Md(),a=Md();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof gf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),df(a.mutation,t,a.mutation.getFieldMask(),Iu.now())):s.set(t.key,oh.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Pp(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Md();let r=new nh((e,t)=>e-t),i=Vd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||oh.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Vd()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Ld();l.forEach(e=>{if(!i.has(e)){const r=uf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Hu.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Ou.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Hu.resolve(Od());let a=-1,o=i;return s.next(t=>Hu.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Hu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Vd())).next(e=>({batchId:a,changes:Dd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ou(t)).next(e=>{let t=Pd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Pd();return this.indexManager.getCollectionParents(e,r).next(s=>Hu.forEach(s,s=>{const a=function(e,t){return new hd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Mh.newInvalidDocument(r)))});let n=Pd();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&df(s.mutation,i,oh.empty(),Iu.now()),Sd(t,i)&&(n=n.insert(e,i))}),n})}}class Op{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Hu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:tp(n.createTime)}),Hu.resolve()}getNamedQuery(e,t){return Hu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:_p(e.bundledQuery),readTime:tp(e.readTime)}}(t)),Hu.resolve()}}class Lp{constructor(){this.overlays=new nh(Ou.comparator),this.ls=new Map}getOverlay(e,t){return Hu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Od();return Hu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Hu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Hu.resolve()}getOverlaysForCollection(e,t,n){const r=Od(),i=t.length+1,s=new Ou(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nh((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Od(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Od(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Hu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Nf(t,n));let i=this.ls.get(t);void 0===i&&(i=Vd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Mp{constructor(){this.fs=new sh(Fp.ds),this.ws=new sh(Fp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Fp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Fp(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Ou(new Ru([])),n=new Fp(t,e),r=new Fp(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ou(new Ru([])),n=new Fp(t,e),r=new Fp(t,e+1);let i=Vd();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Fp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Fp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ou.comparator(e.key,t.key)||Cu(e.As,t.As)}static _s(e,t){return Cu(e.As,t.As)||Ou.comparator(e.key,t.key)}}class Up{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new sh(Fp.ds)}checkEmpty(e){return Hu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ef(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Fp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Hu.resolve(s)}lookupMutationBatch(e,t){return Hu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Hu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Hu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Hu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fp(t,0),r=new Fp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Hu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sh(Cu);return t.forEach(e=>{const t=new Fp(e,0),r=new Fp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Hu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ou.isDocumentKey(i)||(i=i.child(""));const s=new Fp(new Ou(i),0);let a=new sh(Cu);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),Hu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){du(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Hu.forEach(t.mutations,r=>{const i=new Fp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Fp(t,0),r=this.Rs.firstAfterOrEqual(n);return Hu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vp{constructor(e){this.Ds=e,this.docs=new nh(Ou.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hu.resolve(n?n.document.mutableCopy():Mh.newInvalidDocument(t))}getEntries(e,t){let n=jd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Mh.newInvalidDocument(e))}),Hu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=jd();const s=t.path,a=new Ou(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vu(Fu(a),n)<=0||(r.has(a.key)||Sd(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Hu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hu()}Cs(e,t){return Hu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new zp(this)}getSize(e){return Hu.resolve(this.size)}}class zp extends Rp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Hu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Bp{constructor(e){this.persistence=e,this.xs=new Id(e=>ld(e),cd),this.lastRemoteSnapshotVersion=Au.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mp,this.targetCount=0,this.Ms=jp.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Hu.resolve()}getLastRemoteSnapshotVersion(e){return Hu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Hu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Hu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new jp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Hu.resolve()}updateTargetData(e,t){return this.Fn(t),Hu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Hu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Hu.waitFor(i).next(()=>r)}getTargetCount(e){return Hu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Hu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Hu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Hu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Hu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Hu.resolve(n)}containsKey(e,t){return Hu.resolve(this.ks.containsKey(t))}}class qp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ku(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bp(this),this.indexManager=new Tp,this.remoteDocumentCache=function(e){return new Vp(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Sp(t),this.qs=new Op(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Up(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){ou("MemoryPersistence","Starting transaction:",e);const r=new Hp(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Hu.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Hp extends Bu{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Qs=new Mp,this.js=null}static zs(e){return new Wp(e)}get Ws(){if(this.js)return this.js;throw hu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Hu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Hu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Hu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hu.forEach(this.Ws,n=>{const r=Ou.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Au.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Hu.or([()=>Hu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Kp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Vd(),r=Vd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Kp(e,t.fromCache,n,r)}}class Gp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(pd(t))return Hu.resolve(null);let n=bd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xd(t,null,"F"),n=bd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Vd(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,xd(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return pd(t)||r.isEqual(Au.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(au()<=ft.DEBUG&&ou("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nd(t)),this.Wi(e,s,t,Mu(r,-1)))})}ji(e,t){let n=new sh(Cd(e));return t.forEach((t,r)=>{Sd(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return au()<=ft.DEBUG&&ou("QueryEngine","Using full collection scan to execute query:",Nd(t)),this.Ui.getDocumentsMatchingQuery(e,t,Uu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Qp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new nh(Cu),this.Yi=new Id(e=>ld(e),cd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Yp(e,t,n,r){return new Qp(e,t,n,r)}async function $p(e,t){const n=fu(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Vd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function Jp(e){const t=fu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Xp(e,t,n){let r=Vd(),i=Vd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=jd();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Au.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ou("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function Zp(e,t){const n=fu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function em(e,t){const n=fu(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Hu.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Np(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function tm(e,t,n){const r=fu(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Wu(e))throw e;ou("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function nm(e,t,n){const r=fu(e);let i=Au.min(),s=Vd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=fu(e),i=r.Yi.get(n);return void 0!==i?Hu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,bd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Au.min(),n?s:Vd())).next(e=>(rm(r,_d(t),e),{documents:e,ir:s})))}function rm(e,t,n){let r=e.Xi.get(t)||Au.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class im{constructor(){this.activeTargetIds=Bd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sm{constructor(){this.Hr=new im,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new im,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class am{Yr(e){}shutdown(){}}class om{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ou("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ou("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lm=null;function cm(){return null===lm?lm=268435456+Math.round(2147483648*Math.random()):lm++,"0x"+lm.toString(16)}const um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dm="WebChannelConnection";class fm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=cm(),a=this.To(e,t);ou("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(ou("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw cu("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=um[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=cm();return new Promise((s,a)=>{const o=new Zc;o.setWithCredentials(!0),o.listenOnce(Qc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Gc.NO_ERROR:const t=o.getResponseJson();ou(dm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Gc.TIMEOUT:ou(dm,"RPC '".concat(e,"' ").concat(i," timed out")),a(new mu(pu.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const n=o.getStatus();if(ou(dm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pu).indexOf(t)>=0?t:pu.UNKNOWN}(t.status);a(new mu(e,t.message))}else a(new mu(pu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new mu(pu.UNAVAILABLE,"Connection failed."));break;default:hu()}}finally{ou(dm,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);ou(dm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=cm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wc(),a=Kc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Jc({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ou(dm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new hm({ro:t=>{d?ou(dm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ou(dm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ou(dm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Xc.EventType.OPEN,()=>{d||ou(dm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Xc.EventType.CLOSE,()=>{d||(d=!0,ou(dm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Xc.EventType.ERROR,t=>{d||(d=!0,cu(dm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new mu(pu.UNAVAILABLE,"The operation could not be completed")))}),p(u,Xc.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];du(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ou(dm,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=_f[e];if(void 0!==t)return If(t)}(t),i=a.message;void 0===n&&(n=pu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new mu(n,i)),u.close()}else ou(dm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,Yc.STAT_EVENT,t=>{t.stat===$c.PROXY?ou(dm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===$c.NOPROXY&&ou(dm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function pm(){return"undefined"!=typeof document?document:null}function mm(e){return new $f(e,!0)}class gm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ou("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===pu.RESOURCE_EXHAUSTED?(lu(t.toString()),lu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===pu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new mu(pu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ou("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ou("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ym extends vm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(du(void 0===t||"string"==typeof t),ch.fromBase64String(t||"")):(du(void 0===t||t instanceof Uint8Array),ch.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?pu.UNKNOWN:If(e.code);return new mu(t,e.message||"")}(a);n=new Bf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(e,r.document.name),s=tp(r.document.updateTime),a=r.document.createTime?tp(r.document.createTime):Au.min(),o=new Oh({mapValue:{fields:r.document.fields}}),l=Mh.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Vf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sp(e,r.document),s=r.readTime?tp(r.readTime):Au.min(),a=Mh.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Vf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sp(e,r.document),s=r.removedTargetIds||[];n=new Vf([],s,i,null)}else{if(!("filter"in t))return hu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Sf(r,i),a=e.targetId;n=new zf(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Au.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Au.min():t.readTime?tp(t.readTime):Au.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=lp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ud(r)?{documents:dp(e,r)}:{query:fp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zf(e,t.resumeToken);const r=Jf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Au.min())>0){n.readTime=Xf(e,t.snapshotVersion.toTimestamp());const r=Jf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=lp(this.serializer),t.removeTarget=e,this.Wo(t)}}class bm extends vm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(du(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(du(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?tp(e.updateTime):tp(t);return n.isEqual(Au.min())&&(n=tp(t)),new af(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=tp(e.commitTime);return this.listener.cu(n,t)}return du(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=lp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>hp(this.serializer,e))};this.Wo(t)}}class wm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new mu(pu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===pu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mu(pu.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===pu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mu(pu.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class xm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(lu(t),this.mu=!1):ou("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Em{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{jm(this)&&(ou("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fu(e);t.vu.add(4),await Nm(t),t.bu.set("Unknown"),t.vu.delete(4),await km(t)}(this))})}),this.bu=new xm(n,r)}}async function km(e){if(jm(e))for(const t of e.Ru)await t(!0)}async function Nm(e){for(const t of e.Ru)await t(!1)}function Sm(e,t){const n=fu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Am(n)?Im(n):Ym(n).Ko()&&Cm(n,t))}function _m(e,t){const n=fu(e),r=Ym(n);n.Au.delete(t),r.Ko()&&Tm(n,t),0===n.Au.size&&(r.Ko()?r.jo():jm(n)&&n.bu.set("Unknown"))}function Cm(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Au.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ym(e).su(t)}function Tm(e,t){e.Vu.qt(t),Ym(e).iu(t)}function Im(e){e.Vu=new Hf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Ym(e).start(),e.bu.gu()}function Am(e){return jm(e)&&!Ym(e).Uo()&&e.Au.size>0}function jm(e){return 0===fu(e).vu.size}function Rm(e){e.Vu=void 0}async function Pm(e){e.Au.forEach((t,n)=>{Cm(e,t)})}async function Dm(e,t){Rm(e),Am(e)?(e.bu.Iu(t),Im(e)):e.bu.set("Unknown")}async function Om(e,t,n){if(e.bu.set("Online"),t instanceof Bf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){ou("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lm(e,n)}else if(t instanceof Vf?e.Vu.Ht(t):t instanceof zf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Au.min()))try{const t=await Jp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ch.EMPTY_BYTE_STRING,r.snapshotVersion)),Tm(e,t);const i=new Np(r.target,t,n,r.sequenceNumber);Cm(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ou("RemoteStore","Failed to raise snapshot:",t),await Lm(e,t)}}async function Lm(e,t,n){if(!Wu(t))throw t;e.vu.add(1),await Nm(e),e.bu.set("Offline"),n||(n=()=>Jp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ou("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await km(e)})}function Mm(e,t){return t().catch(n=>Lm(e,n,t))}async function Fm(e){const t=fu(e),n=$m(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Um(t);)try{const e=await Zp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Vm(t,e)}catch(e){await Lm(t,e)}zm(t)&&Bm(t)}function Um(e){return jm(e)&&e.Eu.length<10}function Vm(e,t){e.Eu.push(t);const n=$m(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function zm(e){return jm(e)&&!$m(e).Uo()&&e.Eu.length>0}function Bm(e){$m(e).start()}async function qm(e){$m(e).hu()}async function Hm(e){const t=$m(e);for(const n of e.Eu)t.uu(n.mutations)}async function Wm(e,t,n){const r=e.Eu.shift(),i=kf.from(r,t,n);await Mm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Fm(e)}async function Km(e,t){t&&$m(e).ou&&await async function(e,t){if(Tf(n=t.code)&&n!==pu.ABORTED){const n=e.Eu.shift();$m(e).Qo(),await Mm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Fm(e)}var n}(e,t),zm(e)&&Bm(e)}async function Gm(e,t){const n=fu(e);n.asyncQueue.verifyOperationInProgress(),ou("RemoteStore","RemoteStore received new credentials");const r=jm(n);n.vu.add(3),await Nm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await km(n)}async function Qm(e,t){const n=fu(e);t?(n.vu.delete(2),await km(n)):t||(n.vu.add(2),await Nm(n),n.bu.set("Unknown"))}function Ym(e){return e.Su||(e.Su=function(e,t,n){const r=fu(e);return r.fu(),new ym(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Pm.bind(null,e),ao:Dm.bind(null,e),nu:Om.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Am(e)?Im(e):e.bu.set("Unknown")):(await e.Su.stop(),Rm(e))})),e.Su}function $m(e){return e.Du||(e.Du=function(e,t,n){const r=fu(e);return r.fu(),new bm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:qm.bind(null,e),ao:Km.bind(null,e),au:Hm.bind(null,e),cu:Wm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Fm(e)):(await e.Du.stop(),e.Eu.length>0&&(ou("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Jm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Jm(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mu(pu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(e,t){if(lu("AsyncQueue","".concat(t,": ").concat(e)),Wu(e))return new mu(pu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Zm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ou.comparator(t.key,n.key):(e,t)=>Ou.comparator(e.key,t.key),this.keyedMap=Pd(),this.sortedSet=new nh(this.comparator)}static emptySet(e){return new Zm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Zm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class eg{constructor(){this.Cu=new nh(Ou.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class tg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new tg(e,t,Zm.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ng{constructor(){this.Nu=void 0,this.listeners=[]}}class rg{constructor(){this.queries=new Id(e=>kd(e),Ed),this.onlineState="Unknown",this.ku=new Set}}async function ig(e,t){const n=fu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ng),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Xm(e,"Initialization of query '".concat(Nd(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&lg(n)}async function sg(e,t){const n=fu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ag(e,t){const n=fu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&lg(n)}function og(e,t,n){const r=fu(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function lg(e){e.ku.forEach(e=>{e.next()})}class cg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new tg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=tg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ug{constructor(e){this.key=e}}class hg{constructor(e){this.key=e}}class dg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Vd(),this.mutatedKeys=Vd(),this.tc=Cd(e),this.ec=new Zm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new eg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Sd(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new tg(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new eg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Vd(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new hg(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new ug(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Vd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return tg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pg{constructor(e){this.key=e,this.fc=!1}}class mg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Id(e=>kd(e),Ed),this._c=new Map,this.mc=new Set,this.gc=new nh(Ou.comparator),this.yc=new Map,this.Ic=new Mp,this.Tc={},this.Ec=new Map,this.Ac=jp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function gg(e,t){const n=Dg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await em(n.localStore,bd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await vg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Sm(n.remoteStore,e)}return i}async function vg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await nm(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Tg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await nm(e.localStore,t,!0),a=new dg(t,s.ir),o=a.sc(s.documents),l=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Tg(e,n,c.cc);const u=new fg(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function yg(e,t){const n=fu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Ed(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_m(n.remoteStore,r.targetId),_g(n,r.targetId)}).catch(qu)):(_g(n,r.targetId),await tm(n.localStore,r.targetId,!0))}async function bg(e,t){const n=fu(e);try{const e=await function(e,t){const n=fu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ch.EMPTY_BYTE_STRING,Au.min()).withLastLimboFreeSnapshotVersion(Au.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))});let o=jd(),l=Vd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Xp(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Au.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Hu.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(du(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?du(r.fc):e.removedDocuments.size>0&&(du(r.fc),r.fc=!1))}),await jg(n,e,t)}catch(e){await qu(e)}}function wg(e,t,n){const r=fu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=fu(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&lg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xg(e,t,n){const r=fu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new nh(Ou.comparator);e=e.insert(s,Mh.newNoDocument(s,Au.min()));const n=Vd().add(s),i=new Ff(Au.min(),new Map,new nh(Cu),e,n);await bg(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Ag(r)}else await tm(r.localStore,t,!1).then(()=>_g(r,t,n)).catch(qu)}async function Eg(e,t){const n=fu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Hu.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);du(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Sg(n,r,null),Ng(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jg(n,e)}catch(e){await qu(e)}}async function kg(e,t,n){const r=fu(e);try{const e=await function(e,t){const n=fu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(du(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Sg(r,t,n),Ng(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jg(r,e)}catch(n){await qu(n)}}function Ng(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Sg(e,t,n){const r=fu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Cg(e,t)})}function Cg(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(_m(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Ag(e))}function Tg(e,t,n){for(const r of n)r instanceof ug?(e.Ic.addReference(r.key,t),Ig(e,r)):r instanceof hg?(ou("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Cg(e,r.key)):hu()}function Ig(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ou("SyncEngine","New document in limbo: "+n),e.mc.add(r),Ag(e))}function Ag(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Ou(Ru.fromString(t)),r=e.Ac.next();e.yc.set(r,new pg(n)),e.gc=e.gc.insert(n,r),Sm(e.remoteStore,new Np(bd(fd(n.path)),r,"TargetPurposeLimboResolution",Ku.ct))}}async function jg(e,t,n){const r=fu(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Kp.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=fu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Hu.forEach(t,t=>Hu.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Hu.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Wu(e))throw e;ou("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Rg(e,t){const n=fu(e);if(!n.currentUser.isEqual(t)){ou("SyncEngine","User change. New user:",t.toKey());const e=await $p(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new mu(pu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jg(n,e.er)}}function Pg(e,t){const n=fu(e),r=n.yc.get(t);if(r&&r.fc)return Vd().add(r.key);{let e=Vd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Dg(e){const t=fu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xg.bind(null,t),t.dc.nu=ag.bind(null,t.eventManager),t.dc.Pc=og.bind(null,t.eventManager),t}function Og(e){const t=fu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kg.bind(null,t),t}class Lg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Yp(this.persistence,new Gp,e.initialUser,this.serializer)}createPersistence(e){return new qp(Wp.zs,this.serializer)}createSharedClientState(e){return new sm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rg.bind(null,this.syncEngine),await Qm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rg}createDatastore(e){const t=mm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new fm(r));var r;return function(e,t,n,r){return new wm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>wg(this.syncEngine,e,0),s=om.D()?new om:new am,new Em(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new mg(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=fu(e);ou("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Nm(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ug{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ru.UNAUTHENTICATED,this.clientId=_u.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{ou("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ou("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mu(pu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(bb){const n=Xm(bb,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vg(e,t){e.asyncQueue.verifyOperationInProgress(),ou("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await $p(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qg(e);ou("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Gm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Gm(t.remoteStore,n)),e._onlineComponents=t}function Bg(e){return"FirebaseError"===e.name?e.code===pu.FAILED_PRECONDITION||e.code===pu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function qg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ou("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vg(e,e._uninitializedComponentsProvider._offline)}catch(bb){const n=bb;if(!Bg(n))throw n;cu("Error using user provided cache. Falling back to memory cache: "+n),await Vg(e,new Lg)}}else ou("FirestoreClient","Using default OfflineComponentProvider"),await Vg(e,new Lg);return e._offlineComponents}async function Hg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ou("FirestoreClient","Using user provided OnlineComponentProvider"),await zg(e,e._uninitializedComponentsProvider._online)):(ou("FirestoreClient","Using default OnlineComponentProvider"),await zg(e,new Mg))),e._onlineComponents}function Wg(e){return Hg(e).then(e=>e.syncEngine)}async function Kg(e){const t=await Hg(e),n=t.eventManager;return n.onListen=gg.bind(null,t.syncEngine),n.onUnlisten=yg.bind(null,t.syncEngine),n}function Gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Fg({next:s=>{t.enqueueAndForget(()=>sg(e,a));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new mu(pu.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new mu(pu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new cg(fd(n.path),s,{includeMetadataChanges:!0,Ku:!0});return ig(e,a)}(await Kg(e),e.asyncQueue,t,n,r)),r.promise}function Qg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Fg({next:n=>{t.enqueueAndForget(()=>sg(e,a)),n.fromCache&&"server"===r.source?i.reject(new mu(pu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new cg(n,s,{includeMetadataChanges:!0,Ku:!0});return ig(e,a)}(await Kg(e),e.asyncQueue,t,n,r)),r.promise}function Yg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $g=new Map;function Jg(e,t,n){if(!n)throw new mu(pu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xg(e){if(!Ou.isDocumentKey(e))throw new mu(pu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zg(e){if(Ou.isDocumentKey(e))throw new mu(pu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ev(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hu()}function tv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mu(pu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ev(e);throw new mu(pu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class nv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new mu(pu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mu(pu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new mu(pu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mu(pu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mu(pu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mu(pu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class rv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new mu(pu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mu(pu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yu;switch(e.type){case"firstParty":return new Eu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mu(pu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$g.get(e);t&&(ou("ComponentProvider","Removing Datastore"),$g.delete(e),t.terminate())}(this),Promise.resolve()}}function iv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=tv(e,rv))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ru.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new mu(pu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ru(s)}e._authCredentials=new bu(new vu(t,n))}}class sv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ov(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sv(this.firestore,e,this._key)}}class av{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new av(this.firestore,e,this._query)}}class ov extends av{constructor(e,t,n){super(e,t,fd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sv(this.firestore,null,new Ou(e))}withConverter(e){return new ov(this.firestore,e,this._path)}}function lv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),Jg("collection","path",t),e instanceof rv){const n=Ru.fromString(t,...r);return Zg(n),new ov(e,null,n)}{if(!(e instanceof sv||e instanceof ov))throw new mu(pu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ru.fromString(t,...r));return Zg(n),new ov(e.firestore,null,n)}}function cv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),1===arguments.length&&(t=_u.A()),Jg("doc","path",t),e instanceof rv){const n=Ru.fromString(t,...r);return Xg(n),new sv(e,null,new Ou(n))}{if(!(e instanceof sv||e instanceof ov))throw new mu(pu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ru.fromString(t,...r));return Xg(n),new sv(e.firestore,e instanceof ov?e.converter:null,new Ou(n))}}class uv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gm(this,"async_queue_retry"),this.Xc=()=>{const e=pm();e&&ou("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=pm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=pm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new gu;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Wu(e))throw e;ou("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Jm.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&hu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class hv extends rv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fv(this),this._firestoreClient.terminate()}}function dv(e){return e._firestoreClient||fv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new vh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ug(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class pv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pv(ch.fromBase64String(e))}catch(e){throw new mu(pu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pv(ch.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new mu(pu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Du(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gv{constructor(e){this._methodName=e}}class vv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mu(pu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mu(pu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cu(this._lat,e._lat)||Cu(this._long,e._long)}}const yv=/^__.*__$/;class bv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gf(e,this.data,this.fieldMask,t,this.fieldTransforms):new mf(e,this.data,t,this.fieldTransforms)}}class wv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hu()}}class Ev{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Uv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xv(this.ca)&&yv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mm(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ev({ca:e,methodName:t,ga:n,path:Du.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(e){const t=e._freezeSettings(),n=mm(e._databaseId);return new kv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Ov("Data must be an object, but it was:",a,r);const o=Pv(r,a);let l,c;if(s.merge)l=new oh(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Lv(t,r,n);if(!a.contains(i))throw new mu(pu.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Vv(e,i)||e.push(i)}l=new oh(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new bv(new Oh(o),l,c)}class _v extends gv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _v}}class Cv extends gv{_toFieldTransform(e){return new sf(e.path,new $d)}isEqual(e){return e instanceof Cv}}class Tv extends gv{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new tf(e.serializer,Wd(e.serializer,this.Ia));return new sf(e.path,t)}isEqual(e){return this===e}}function Iv(e,t,n,r){const i=e.ya(1,t,n);Ov("Data must be an object, but it was:",i,r);const s=[],a=Oh.empty();eh(r,(e,r)=>{const o=Fv(t,e,n);r=ot(r);const l=i.da(o);if(r instanceof _v)s.push(o);else{const e=Rv(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new oh(s);return new wv(a,o,i.fieldTransforms)}function Av(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[Lv(t,r,n)],l=[i];if(s.length%2!=0)throw new mu(pu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Lv(t,s[d])),l.push(s[d+1]);const c=[],u=Oh.empty();for(let d=o.length-1;d>=0;--d)if(!Vv(c,o[d])){const e=o[d];let t=l[d];t=ot(t);const n=a.da(e);if(t instanceof _v)c.push(e);else{const r=Rv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new oh(c);return new wv(u,h,a.fieldTransforms)}function jv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rv(n,e.ya(r?4:3,t))}function Rv(e,t){if(Dv(e=ot(e)))return Ov("Unsupported field value:",t,e),Pv(e,t);if(e instanceof gv)return function(e,t){if(!xv(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Rv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Iu.fromDate(e);return{timestampValue:Xf(t.serializer,n)}}if(e instanceof Iu){const n=new Iu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xf(t.serializer,n)}}if(e instanceof vv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pv)return{bytesValue:Zf(t.serializer,e._byteString)};if(e instanceof sv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:np(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(ev(e)))}(e,t)}function Pv(e,t){const n={};return th(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eh(e,(e,r)=>{const i=Rv(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Dv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Iu||e instanceof vv||e instanceof pv||e instanceof sv||e instanceof gv)}function Ov(e,t,n){if(!Dv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ev(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Lv(e,t,n){if((t=ot(t))instanceof mv)return t._internalPath;if("string"==typeof t)return Fv(e,t);throw Uv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Mv=new RegExp("[~\\*/\\[\\]]");function Fv(e,t,n){if(t.search(Mv)>=0)throw Uv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new mv(...t.split("."))._internalPath}catch(r){throw Uv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Uv(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new mu(pu.INVALID_ARGUMENT,o+e+l)}function Vv(e,t){return e.some(e=>e.isEqual(t))}class zv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bv extends zv{data(){return super.data()}}function qv(e,t){return"string"==typeof t?Fv(e,t):t instanceof mv?t._internalPath:t._delegate._internalPath}function Hv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mu(pu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class Kv extends Wv{}class Gv extends Kv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gv(e,t,n)}_apply(e){const t=this._parse(e);return Xv(e._query,t),new av(e.firestore,e.converter,wd(e._query,t))}_parse(e){const t=Nv(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new mu(pu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Jv(a,s);const t=[];for(const n of a)t.push($v(r,e,n));o={arrayValue:{values:t}}}else o=$v(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jv(a,s),o=jv(n,"where",a,"in"===s||"not-in"===s);return Hh.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Qv extends Wv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qv(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Wh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Xv(n,i),n=wd(n,i)}(e._query,t),new av(e.firestore,e.converter,wd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yv extends Kv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new mu(pu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mu(pu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new zh(t,n);return function(e,t){if(null===md(e)){const n=gd(e);null!==n&&Zv(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new av(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function $v(e,t,n){if("string"==typeof(n=ot(n))){if(""===n)throw new mu(pu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vd(t)&&-1!==n.indexOf("/"))throw new mu(pu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ru.fromString(n));if(!Ou.isDocumentKey(r))throw new mu(pu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ch(e,new Ou(r))}if(n instanceof sv)return Ch(e,n._key);throw new mu(pu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ev(n),"."))}function Jv(e,t){if(!Array.isArray(e)||0===e.length)throw new mu(pu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Xv(e,t){if(t.isInequality()){const n=gd(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new mu(pu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=md(e);null!==i&&Zv(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new mu(pu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mu(pu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Zv(e,t,n){if(!n.isEqual(t))throw new mu(pu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class ey{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return eh(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new vv(dh(e.latitude),dh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const t=hh(e);return new Iu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ru.fromString(e);du(kp(n));const r=new yh(n.get(1),n.get(3)),i=new Ou(n.popFirst(5));return r.isEqual(t)||lu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ty(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ny{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ry extends zv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(qv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iy extends ry{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class sy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ny(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new iy(this._firestore,this._userDataWriter,n.key,n,new ny(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mu(pu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new iy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ny(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new iy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ny(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ay(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ay(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hu()}}function oy(e){e=tv(e,sv);const t=tv(e.firestore,hv);return Gg(dv(t),e._key).then(n=>hy(t,e,n))}class ly extends ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new pv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sv(this.firestore,null,t)}}function cy(e){e=tv(e,av);const t=tv(e.firestore,hv),n=dv(t),r=new ly(t);return Hv(e._query),Qg(n,e._query).then(n=>new sy(t,r,e,n))}function uy(e,t){return function(e,t){const n=new gu;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Og(e);try{const e=await function(e,t){const n=fu(e),r=Iu.now(),i=t.reduce((e,t)=>e.add(t.key),Vd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=jd(),l=Vd();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=ff(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new gf(e.key,t,Lh(t.value.mapValue),of.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Dd(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new nh(Cu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await jg(r,e.changes),await Fm(r.remoteStore)}catch(e){const t=Xm(e,"Failed to persist write");n.reject(t)}}(await Wg(e),t,n)),n.promise}(dv(e),t)}function hy(e,t,n){const r=n.docs.get(t._key),i=new ly(e);return new ry(e,i,t._key,r,new ny(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){iu=e}(bn),mn(new lt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new hv(new wu(e.getProvider("auth-internal")),new Nu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mu(pu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),En(nu,"3.13.0",e),En(nu,"3.13.0","esm2017")}();const dy=wn({apiKey:"AIzaSyBGtnLUjAIZrm8JAS9Gd5mht-oMXYrH85I",authDomain:"handy-s-6961d.firebaseapp.com",projectId:"handy-s-6961d",storageBucket:"handy-s-6961d.firebasestorage.app",messagingSenderId:"760769633537",appId:"1:760769633537:web:4bce1c1903e9c22291cf00"}),fy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();const t=gn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=gn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(et(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Un(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ts,persistence:[zi,Ni,_i]}),r=Ge("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Rs)return;const r=null===t||void 0===t?void 0:t.token;Ps!==r&&(Ps=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ot(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){ot(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=We("auth");return s&&Gr(n,"http://".concat(s)),n}(dy),py=function(e,t){const n="string"==typeof e?e:t||"(default)",r=gn("object"==typeof e?e:xn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=We(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&iv(r,...e)}return r}(dy);var my=n(579);const gy=()=>{const[e,t]=(0,i.useState)({email:"",password:"",confirmPassword:""}),[n,r]=(0,i.useState)(null),s=ne(),a=n=>{t(Me(Me({},e),{},{[n.target.name]:n.target.value}))};return(0,my.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,my.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.password===e.confirmPassword)try{await async function(e,t,n){var r;const i=Wr(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Br(i,s,"signUpPassword");a=di(i,e)}else a=di(i,s).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Br(i,s,"signUpPassword");return di(i,e)}return Promise.reject(e)});const o=await a.catch(e=>Promise.reject(e)),l=await fi._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(fy,e.email,e.password),s("/onboarding",{replace:!0})}catch(n){r(n.message||"Erreur lors de l'inscription.")}else r("Les mots de passe ne correspondent pas.")},className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-8 space-y-4",children:[(0,my.jsx)("h2",{className:"text-2xl font-extrabold text-center",children:"Cr\xe9er un compte"}),n&&(0,my.jsx)("div",{className:"text-red-500 text-sm",children:n}),(0,my.jsxs)("div",{children:[(0,my.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email"}),(0,my.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:a,className:"mt-1 w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500"})]}),(0,my.jsxs)("div",{children:[(0,my.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Mot de passe"}),(0,my.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:a,className:"mt-1 w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500"})]}),(0,my.jsxs)("div",{children:[(0,my.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium",children:"Confirmer le mot de passe"}),(0,my.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:e.confirmPassword,onChange:a,className:"mt-1 w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500"})]}),(0,my.jsx)("button",{type:"submit",className:"w-full py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition",children:"S'inscrire"})]})})};function vy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const yy=["className","variant","size","asChild"],by=i.forwardRef((e,t)=>{let{className:n,variant:r="default",size:i="default",asChild:s=!1}=e,a=vy(e,yy);const o="".concat("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"," ").concat({default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[r]," ").concat({default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i]," ").concat(n||"").trim();return(0,my.jsx)("button",Me({className:o,ref:t},a))});function wy(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),s=ne();return(0,my.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await function(e,t,n){return wi(ot(e),si.credential(t,n))}(fy,e,n),r=t.user,i=cv(py,"users",r.uid),a=await oy(i);if(a.exists()){const e=a.data();console.log("Profil utilisateur charg\xe9 :",e)}else console.warn("Aucun profil trouv\xe9 pour l\u2019utilisateur",r.uid);s("/home",{replace:!0})}catch(r){r instanceof Error?alert(r.message):alert("Une erreur est survenue")}},className:"max-w-md mx-auto p-4 space-y-4 bg-white rounded-2xl shadow",children:[(0,my.jsx)("h2",{className:"text-xl font-semibold text-center",children:"Connexion"}),(0,my.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",className:"w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-primary",required:!0}),(0,my.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"Mot de passe",className:"w-full border rounded-lg px-4 py-3 focus:ring-2 focus:ring-primary",required:!0}),(0,my.jsx)(by,{type:"submit",className:"w-full",children:"Se connecter"})]})}by.displayName="Button";const xy=e=>{let{onNext:t}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"Quelques questions ! :)"}),(0,my.jsx)("p",{className:"text-center text-gray-600 mb-6",children:"2 min"}),(0,my.jsx)("p",{className:"text-center text-gray-700 mb-8",children:"Afin de personnaliser au mieux votre exp\xe9rience sur Handy's, il nous en faut un peu plus sur vous."}),(0,my.jsx)("button",{onClick:t,className:"w-full py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition",children:"C'est parti !"})]})},Ey=e=>{let{birthdate:t,onChange:n,onNext:r,onBack:i}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Votre date de naissance"}),(0,my.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Inscrivez votre date de naissance pour que l'on puisse vous donner des exercices adapt\xe9s \xe0 vos capacit\xe9s !"}),(0,my.jsx)("input",{type:"date",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 mb-6"}),(0,my.jsxs)("div",{className:"flex justify-between",children:[(0,my.jsx)("button",{onClick:i,className:"px-4 py-2",children:"Retour"}),(0,my.jsx)("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Suivant"})]})]})},ky=e=>{let{weight:t,onChange:n,onNext:r,onBack:i}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Combien pesez-vous environ ?"}),(0,my.jsx)("input",{type:"number",placeholder:"kg",value:t,onChange:e=>n(Number(e.target.value)),className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 mb-6"}),(0,my.jsxs)("div",{className:"flex justify-between",children:[(0,my.jsx)("button",{onClick:i,className:"px-4 py-2",children:"Retour"}),(0,my.jsx)("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Suivant"})]})]})},Ny=e=>{let{gender:t,onChange:n,onNext:r,onBack:i}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Votre genre"}),(0,my.jsxs)("div",{className:"mb-6 flex justify-around",children:[(0,my.jsxs)("label",{className:"flex items-center",children:[(0,my.jsx)("input",{type:"radio",name:"gender",value:"Masculin",checked:"Masculin"===t,onChange:()=>n("Masculin"),className:"mr-2"}),"Masculin"]}),(0,my.jsxs)("label",{className:"flex items-center",children:[(0,my.jsx)("input",{type:"radio",name:"gender",value:"F\xe9minin",checked:"F\xe9minin"===t,onChange:()=>n("F\xe9minin"),className:"mr-2"}),"F\xe9minin"]})]}),(0,my.jsxs)("div",{className:"flex justify-between",children:[(0,my.jsx)("button",{onClick:i,className:"px-4 py-2",children:"Retour"}),(0,my.jsx)("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Suivant"})]})]})},Sy=e=>{let{activity:t,goal:n,onActivityChange:r,onGoalChange:i,onNext:s,onBack:a}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Votre niveau d'activit\xe9"}),(0,my.jsx)("div",{className:"mb-4 space-y-2",children:["Oui","Un peu","Rarement","Non"].map(e=>(0,my.jsxs)("label",{className:"flex items-center",children:[(0,my.jsx)("input",{type:"radio",name:"activity",value:e,checked:t===e,onChange:()=>r(e),className:"mr-2"}),e]},e))}),(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Votre objectif"}),(0,my.jsx)("input",{type:"text",placeholder:"Ex: Prendre du muscle",value:n,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 mb-6"}),(0,my.jsxs)("div",{className:"flex justify-between",children:[(0,my.jsx)("button",{onClick:a,className:"px-4 py-2",children:"Retour"}),(0,my.jsx)("button",{onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Suivant"})]})]})},_y=e=>{let{handicap:t,onChange:n,onNext:r,onBack:i}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Type de handicap"}),(0,my.jsx)("div",{className:"mb-6 space-y-2",children:["Visuel","Auditif","Moteur","Cognitif"].map(e=>(0,my.jsxs)("label",{className:"flex items-center",children:[(0,my.jsx)("input",{type:"radio",name:"handicap",value:e,checked:t===e,onChange:()=>n(e),className:"mr-2"}),e]},e))}),(0,my.jsxs)("div",{className:"flex justify-between",children:[(0,my.jsx)("button",{onClick:i,className:"px-4 py-2",children:"Retour"}),(0,my.jsx)("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Suivant"})]})]})},Cy=e=>{let{muscles:t,onChange:n,onNext:r,onBack:i}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Muscles mobilisables"}),(0,my.jsx)("div",{className:"mb-6 space-y-2",children:["Bras","Jambes","Dos","Pectoraux","Abdominaux"].map(e=>(0,my.jsxs)("label",{className:"flex items-center",children:[(0,my.jsx)("input",{type:"checkbox",value:e,checked:t.includes(e),onChange:()=>(e=>{t.includes(e)?n(t.filter(t=>t!==e)):n([...t,e])})(e),className:"mr-2"}),e]},e))}),(0,my.jsxs)("div",{className:"flex justify-between",children:[(0,my.jsx)("button",{onClick:i,className:"px-4 py-2",children:"Retour"}),(0,my.jsx)("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Suivant"})]})]})},Ty=e=>{let{data:t,onComplete:n}=e;return(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"Merci !"}),(0,my.jsx)("p",{className:"text-center text-gray-600 mb-6",children:"Votre profil est pr\xeat. D\xe9couvrez votre programme personnalis\xe9."}),(0,my.jsx)("button",{onClick:n,className:"w-full py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition",children:"Acc\xe9der au tableau de bord"})]})},Iy=()=>{const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)({birthdate:"",weight:0,gender:"",activity:"",goal:"",handicap:"",muscles:[]}),s=ne(),a=()=>t(e=>e+1),o=()=>t(e=>e-1),l=e=>r(t=>Me(Me({},t),e));return(0,my.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,my.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6",children:[0===e&&(0,my.jsx)(xy,{onNext:a}),1===e&&(0,my.jsx)(Ey,{birthdate:n.birthdate,onChange:e=>l({birthdate:e}),onNext:a,onBack:o}),2===e&&(0,my.jsx)(ky,{weight:n.weight,onChange:e=>l({weight:e}),onNext:a,onBack:o}),3===e&&(0,my.jsx)(Ny,{gender:n.gender,onChange:e=>l({gender:e}),onNext:a,onBack:o}),4===e&&(0,my.jsx)(Sy,{activity:n.activity,goal:n.goal,onActivityChange:e=>l({activity:e}),onGoalChange:e=>l({goal:e}),onNext:a,onBack:o}),5===e&&(0,my.jsx)(_y,{handicap:n.handicap,onChange:e=>l({handicap:e}),onNext:a,onBack:o}),6===e&&(0,my.jsx)(Cy,{muscles:n.muscles,onChange:e=>l({muscles:e}),onNext:a,onBack:o}),7===e&&(0,my.jsx)(Ty,{data:n,onComplete:async()=>{const e=fy.currentUser;if(e)try{await function(e,t,n){e=tv(e,sv);const r=tv(e.firestore,hv),i=ty(e.converter,t,n);return uy(r,[Sv(Nv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,of.none())])}(cv(py,"users",e.uid),{birthdate:n.birthdate,weight:n.weight,gender:n.gender,activity:n.activity,goal:n.goal,handicap:n.handicap,muscles:n.muscles,updatedAt:new Cv("serverTimestamp")},{merge:!0}),s("/home",{replace:!0})}catch(t){console.error("Erreur lors de l'enregistrement du profil :",t.code,t.message,t),console.error("Erreur lors de l'enregistrement du profil :",t)}}})]})})};function Ay(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=function(e,t,n,r){return ot(e).onAuthStateChanged(t,n,r)}(fy,e=>{t(e),r(!1)});return e},[]),{user:e,loading:n}}const jy=e=>{let{children:t}=e;const{user:n,loading:r}=Ay();return r?(0,my.jsx)("div",{className:"p-6 text-center",children:"Chargement\u2026"}):n?(0,my.jsx)(my.Fragment,{children:t}):(0,my.jsx)(ye,{to:"/auth/login",replace:!0})},Ry=e=>{let{article:t,onClick:n,isLarge:r=!1}=e;return(0,my.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden cursor-pointer transition-transform hover:scale-105 border border-gray-100 ".concat(r?"h-80":"h-72"),onClick:n,children:[(0,my.jsxs)("div",{className:"relative ".concat(r?"h-40":"h-32"),children:[(0,my.jsx)("img",{src:t.imageUrl||"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:t.title,className:"w-full h-full object-cover"}),t.category&&(0,my.jsx)("span",{className:"absolute top-3 left-3 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:t.category})]}),(0,my.jsxs)("div",{className:"p-4 flex flex-col justify-between flex-1",children:[(0,my.jsxs)("div",{children:[(0,my.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[(0,my.jsx)("span",{children:(i=t.createdAt,i?i.toDate?i.toDate().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):new Date(i).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"")}),t.author&&(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("span",{className:"mx-1",children:"\u2022"}),(0,my.jsxs)("span",{children:["Par ",t.author]})]}),t.readTime&&(0,my.jsxs)(my.Fragment,{children:[(0,my.jsx)("span",{className:"mx-1",children:"\u2022"}),(0,my.jsxs)("span",{children:[t.readTime," min de lecture"]})]})]}),(0,my.jsx)("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2 ".concat(r?"text-base":"text-sm"),children:t.title}),t.excerpt&&(0,my.jsx)("p",{className:"text-gray-600 mb-3 line-clamp-2 ".concat(r?"text-sm":"text-xs"),children:t.excerpt})]}),(0,my.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,my.jsxs)("button",{className:"inline-flex items-center text-blue-600 font-medium text-sm hover:text-blue-700 transition-colors",children:["Voir l'article",(0,my.jsx)("svg",{className:"ml-1 w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.views&&(0,my.jsxs)("span",{className:"text-xs text-gray-500 flex items-center",children:[(0,my.jsxs)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),t.views]})]})]})]});var i},Py=e=>{let{article:t,onClick:n}=e;return(0,my.jsxs)("div",{className:"bg-purple-200 rounded-3xl p-6 cursor-pointer",children:[(0,my.jsx)("div",{className:"flex justify-center mb-4",children:(0,my.jsx)("div",{className:"w-full max-w-sm flex justify-center items-center",style:{minHeight:"200px"},children:(0,my.jsx)("img",{src:t.imageUrl||"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:t.title,className:"max-w-full max-h-full object-contain rounded-lg"})})}),(0,my.jsx)("h3",{className:"font-bold text-gray-900 text-lg text-center mb-3 leading-tight",children:t.title}),t.excerpt&&(0,my.jsx)("p",{className:"text-gray-700 text-sm text-center mb-6 leading-relaxed px-2",children:t.excerpt}),(0,my.jsx)("div",{className:"flex justify-center",children:(0,my.jsx)("button",{onClick:n,className:"bg-purple-600 text-white px-6 py-3 rounded-full font-medium text-sm hover:bg-purple-700 transition-colors",children:"Voir l'article"})})]})},Dy=e=>{let{icon:t,label:n,active:r=!1,onClick:i}=e;return(0,my.jsxs)("div",{className:"flex flex-col items-center py-2 px-3 cursor-pointer ".concat(r?"text-blue-600":"text-gray-500"),onClick:i,children:[(0,my.jsx)("span",{className:"text-lg mb-1",children:t}),(0,my.jsx)("span",{className:"text-xs font-medium",children:n})]})},Oy=()=>{const e=ne(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{const e=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Wv&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Qv).length,n=e.filter(e=>e instanceof Gv).length;if(t>1||t>0&&n>0)throw new mu(pu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(lv(py,"articles"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qv("orderBy",e);return Yv._create(n,t)}("createdAt","desc")),t=await cy(e),r=[];t.forEach(e=>{r.push(Me({id:e.id},e.data()))}),n(r),s(!1)}catch(e){console.error("Erreur lors du chargement des articles:",e),o("Erreur lors du chargement des articles"),s(!1)}})()},[]),r?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,my.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des articles..."})]})}):a?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("p",{className:"text-red-600",children:a}),(0,my.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"R\xe9essayer"})]})}):(0,my.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,my.jsxs)("div",{className:"hidden md:block",children:[(0,my.jsx)("div",{className:"bg-white border-b",children:(0,my.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,my.jsxs)("div",{className:"flex items-center justify-between",children:[(0,my.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,my.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"H"}),(0,my.jsxs)("nav",{className:"flex space-x-8",children:[(0,my.jsx)("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-purple-600",children:"Accueil"}),(0,my.jsx)("button",{onClick:()=>e("/exercises"),className:"text-gray-600 hover:text-purple-600",children:"Exercices"}),(0,my.jsx)("button",{className:"text-purple-600 font-medium",children:"Articles"})]})]}),(0,my.jsx)("div",{className:"flex items-center space-x-4",children:(0,my.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full px-3 py-2",children:[(0,my.jsx)("span",{className:"text-sm"}),(0,my.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})]})})]})})}),(0,my.jsx)("div",{className:"bg-white",children:(0,my.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,my.jsx)("h1",{className:"text-4xl font-bold text-gray-900 text-center mb-2",children:"Articles"}),(0,my.jsx)("p",{className:"text-gray-600 text-center text-lg",children:"Actualit\xe9s et conseils autour du sport et de la sant\xe9"})]})}),(0,my.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,my.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"D\xe9couvrez des actualit\xe9s et conseils pour un sport inclusif et adapt\xe9 !"}),(0,my.jsx)("div",{className:"grid grid-cols-3 gap-6 mb-8",children:t.slice(0,6).map(t=>(0,my.jsx)(Ry,{article:t,onClick:()=>e("/articles/".concat(t.id))},t.id))}),(0,my.jsx)("div",{className:"grid grid-cols-3 gap-6 mb-8",children:t.slice(6,9).map(t=>(0,my.jsx)(Ry,{article:t,onClick:()=>e("/articles/".concat(t.id))},t.id))}),(0,my.jsx)("div",{className:"grid grid-cols-2 gap-6 max-w-4xl",children:t.slice(9,11).map(t=>(0,my.jsx)(Ry,{article:t,onClick:()=>e("/articles/".concat(t.id)),isLarge:!0},t.id))}),(0,my.jsxs)("div",{className:"grid grid-cols-2 gap-6 mt-8 max-w-4xl",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bien-\xeatre global et t\xe9moignages"}),t.slice(11,12).map(t=>(0,my.jsx)(Ry,{article:t,onClick:()=>e("/articles/".concat(t.id)),isLarge:!0},t.id))]}),(0,my.jsxs)("div",{children:[(0,my.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Programmes et exercices adapt\xe9s"}),t.slice(12,13).map(t=>(0,my.jsx)(Ry,{article:t,onClick:()=>e("/articles/".concat(t.id)),isLarge:!0},t.id))]})]})]})]}),(0,my.jsxs)("div",{className:"md:hidden",children:[(0,my.jsx)("div",{className:"bg-white shadow-sm",children:(0,my.jsxs)("div",{className:"px-4 py-4",children:[(0,my.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Articles"}),(0,my.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"D\xe9couvrez des actualit\xe9s et conseils pour un sport inclusif et adapt\xe9 !"})]})}),(0,my.jsx)("div",{className:"px-4 py-4 space-y-4 pb-24",children:t.map(t=>(0,my.jsx)(Py,{article:t,onClick:()=>e("/articles/".concat(t.id))},t.id))}),(0,my.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:(0,my.jsx)("div",{className:"px-4 py-3",children:(0,my.jsxs)("div",{className:"flex justify-around",children:[(0,my.jsx)(Dy,{icon:"\ud83c\udfe0",label:"Accueil",onClick:()=>e("/")}),(0,my.jsx)(Dy,{icon:"\ud83d\udcaa",label:"Exercices",onClick:()=>e("/exercises")}),(0,my.jsx)(Dy,{icon:"\ud83d\udcf0",label:"Articles",active:!0}),(0,my.jsx)(Dy,{icon:"\ud83d\udc64",label:"Profil",onClick:()=>e("/profile")})]})})})]})]})},Ly=()=>{const{id:e}=re(),t=ne(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{const t=async()=>{try{console.log("\ud83d\udd0d Chargement article ID:",e);const i=cv(py,"articles",e),s=await oy(i);if(s.exists()){const e=Me({id:s.id},s.data());console.log("\ud83d\udcc4 Article trouv\xe9:",e),r(e);try{await function(e,t,n){e=tv(e,sv);const r=tv(e.firestore,hv),i=Nv(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ot(t))||t instanceof mv?Av(i,"updateDoc",e._key,t,n,o):Iv(i,"updateDoc",e._key,t),uy(r,[s.toMutation(e._key,of.exists(!0))])}(i,{views:(t=1,new Tv("increment",t))})}catch(n){console.log("Note: Impossible d'incr\xe9menter les vues:",n)}}else console.log("\u274c Article non trouv\xe9"),l("Article non trouv\xe9");a(!1)}catch(i){console.error("\u274c Erreur lors du chargement de l'article:",i),l("Erreur lors du chargement de l'article"),a(!1)}var t};e&&t()},[e]);return s?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,my.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement de l'article..."})]})}):o||!n?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("p",{className:"text-red-600 mb-4",children:o||"Article non trouv\xe9"}),(0,my.jsx)("button",{onClick:()=>t("/articles"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retour aux articles"})]})}):(0,my.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,my.jsx)("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:(0,my.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,my.jsxs)("button",{onClick:()=>t("/articles"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[(0,my.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour aux articles"]})})}),(0,my.jsxs)("article",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.imageUrl&&(0,my.jsxs)("div",{className:"relative h-64 md:h-96 mb-8 rounded-lg overflow-hidden",children:[(0,my.jsx)("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover"}),n.category&&(0,my.jsx)("span",{className:"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:n.category})]}),(0,my.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[(0,my.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title}),n.excerpt&&(0,my.jsx)("p",{className:"text-xl text-gray-600 mb-6 leading-relaxed",children:n.excerpt}),(0,my.jsxs)("div",{className:"flex flex-wrap items-center text-sm text-gray-500 mb-6 gap-4",children:[(0,my.jsx)("span",{children:(c=n.createdAt,c?c.toDate?c.toDate().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):new Date(c).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"")}),n.author&&(0,my.jsxs)("span",{className:"flex items-center",children:[(0,my.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Par ",n.author]}),n.readTime&&(0,my.jsxs)("span",{className:"flex items-center",children:[(0,my.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.readTime," min de lecture"]}),n.views&&(0,my.jsxs)("span",{className:"flex items-center",children:[(0,my.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),n.views," vues"]})]}),n.tags&&n.tags.length>0&&(0,my.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:n.tags.map((e,t)=>(0,my.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:["#",e]},t))})]}),(0,my.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:(0,my.jsx)("div",{className:"prose prose-lg max-w-none",children:n.content?(0,my.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.content}):(0,my.jsx)("p",{className:"text-gray-700 leading-relaxed",children:n.excerpt||"Contenu de l'article \xe0 venir..."})})}),(0,my.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-8",children:(0,my.jsx)("div",{className:"flex justify-center",children:(0,my.jsx)("button",{onClick:()=>t("/articles"),className:"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors font-medium",children:"Voir plus d'articles"})})})]}),(0,my.jsx)("div",{className:"h-20"})]});var c},My=e=>{let{exercise:t,onClick:n}=e;return(0,my.jsxs)("div",{className:"bg-white bg-opacity-95 rounded-2xl p-4 flex items-center gap-4 cursor-pointer hover:bg-opacity-100 transition-all",onClick:n,children:[(0,my.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:t.imageUrl&&(0,my.jsx)("img",{src:"/".concat(t.imageUrl),alt:t.title,className:"w-12 h-12 object-contain",onError:e=>{e.target.src="/default-exercise.jpg"}})}),(0,my.jsxs)("div",{className:"flex-1",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.title}),(0,my.jsx)("p",{className:"text-gray-600 text-xs mb-3",children:t.category||"Haut du corps"}),(0,my.jsxs)("div",{className:"flex gap-2",children:[t.difficulty&&(0,my.jsx)("span",{className:"px-3 py-1 border border-orange-400 text-orange-600 text-xs font-medium rounded-full",children:t.difficulty}),t.duration&&(0,my.jsxs)("span",{className:"px-3 py-1 border border-orange-400 text-orange-600 text-xs font-medium rounded-full",children:[t.duration," min"]})]})]}),(0,my.jsx)("div",{className:"text-orange-400",children:(0,my.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},Fy=e=>{let{title:t,color:n,exercises:r,navigate:i}=e;const s="purple"===n?"bg-gradient-to-r from-purple-600 to-purple-700":"bg-gradient-to-r from-orange-500 to-orange-600";return(0,my.jsxs)("div",{className:"".concat(s," rounded-3xl p-8 text-white relative"),children:[(0,my.jsx)("h2",{className:"text-2xl font-bold mb-6",children:t}),(0,my.jsx)("div",{className:"absolute top-6 right-6",children:(0,my.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,my.jsx)("div",{className:"grid grid-cols-3 gap-4",children:r.slice(0,6).map(e=>(0,my.jsx)(Uy,{exercise:e,onClick:()=>i("/exercises/".concat(e.id))},e.id))})]})},Uy=e=>{let{exercise:t,onClick:n}=e;return(0,my.jsxs)("div",{className:"bg-white bg-opacity-95 rounded-2xl p-4 cursor-pointer hover:bg-opacity-100 transition-all",onClick:n,children:[(0,my.jsx)("div",{className:"w-full h-24 bg-gray-100 rounded-xl flex items-center justify-center mb-3",children:t.imageUrl&&(0,my.jsx)("img",{src:"/".concat(t.imageUrl),alt:t.title,className:"w-16 h-16 object-contain",onError:e=>{e.target.src="/default-exercise.jpg"}})}),(0,my.jsx)("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.title}),(0,my.jsx)("p",{className:"text-gray-600 text-xs mb-3",children:t.category||"Haut du corps"}),(0,my.jsxs)("div",{className:"flex gap-2 mb-3",children:[t.difficulty&&(0,my.jsx)("span",{className:"px-2 py-1 border border-orange-400 text-orange-600 text-xs font-medium rounded-full",children:t.difficulty}),t.duration&&(0,my.jsxs)("span",{className:"px-2 py-1 border border-orange-400 text-orange-600 text-xs font-medium rounded-full",children:[t.duration," min"]})]}),(0,my.jsx)("div",{className:"flex justify-end",children:(0,my.jsx)("div",{className:"text-orange-400",children:(0,my.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]})},Vy=e=>{let{icon:t,label:n,active:r=!1,onClick:i}=e;return(0,my.jsxs)("div",{className:"flex flex-col items-center py-2 px-3 cursor-pointer ".concat(r?"text-orange-500":"text-gray-500"),onClick:i,children:[(0,my.jsx)("span",{className:"text-lg mb-1",children:t}),(0,my.jsx)("span",{className:"text-xs font-medium",children:n})]})},zy=()=>{const e=ne(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{console.log("\ud83d\udd0d Chargement des exercices...");const e=lv(py,"exercises"),t=(await cy(e)).docs.map(e=>Me({id:e.id},e.data()));console.log("\ud83d\udcaa Exercices r\xe9cup\xe9r\xe9s:",t),n(t),s(!1)}catch(e){console.error("\u274c Erreur lors du chargement des exercices:",e),o("Erreur lors du chargement des exercices"),s(!1)}})()},[]),r?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,my.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des exercices..."})]})}):a?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("p",{className:"text-red-600",children:a}),(0,my.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"R\xe9essayer"})]})}):(0,my.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,my.jsxs)("div",{className:"block lg:hidden",children:[(0,my.jsx)("div",{className:"bg-white px-4 py-6",children:(0,my.jsxs)("div",{className:"relative mb-6",children:[(0,my.jsx)("input",{type:"text",placeholder:"Rechercher un exercice",className:"w-full px-4 py-3 pr-10 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,my.jsx)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,my.jsx)("div",{className:"mx-4 mb-6",children:(0,my.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-2xl p-6 text-white relative",children:[(0,my.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["D\xe9couvre nos exercices",(0,my.jsx)("br",{}),"pour le haut du corps !"]}),(0,my.jsx)("div",{className:"absolute top-4 right-4",children:(0,my.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,my.jsx)("div",{className:"space-y-3",children:t.map(t=>(0,my.jsx)(My,{exercise:t,onClick:()=>e("/exercises/".concat(t.id))},t.id))})]})}),(0,my.jsx)("div",{className:"h-20"})]}),(0,my.jsxs)("div",{className:"hidden lg:block",children:[(0,my.jsx)("div",{className:"bg-white border-b",children:(0,my.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,my.jsxs)("div",{className:"flex items-center justify-between",children:[(0,my.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,my.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"H"}),(0,my.jsxs)("nav",{className:"flex space-x-8",children:[(0,my.jsx)("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-purple-600",children:"Accueil"}),(0,my.jsx)("button",{className:"text-purple-600 font-medium",children:"Exercices"}),(0,my.jsx)("button",{onClick:()=>e("/articles"),className:"text-gray-600 hover:text-purple-600",children:"Articles"})]})]}),(0,my.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,my.jsxs)("div",{className:"relative",children:[(0,my.jsx)("input",{type:"text",placeholder:"Rechercher un exercice",className:"px-4 py-2 pr-10 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 w-64"}),(0,my.jsx)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,my.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-full px-3 py-2",children:[(0,my.jsx)("span",{className:"text-sm",children:"54\u20ac"}),(0,my.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})]})]})]})})}),(0,my.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,my.jsxs)("div",{className:"space-y-8",children:[(0,my.jsx)(Fy,{title:"D\xe9couvre nos exercices pour le haut du corps !",color:"purple",exercises:t.filter(e=>"Pectoraux"===e.category||"Haut du corps"===e.category),navigate:e}),(0,my.jsx)(Fy,{title:"D\xe9couvre aussi nos exercices pour le bas du corps !",color:"orange",exercises:t.filter(e=>"Jambes"===e.category||"Bas du corps"===e.category),navigate:e}),(0,my.jsx)(Fy,{title:"N'oublie pas ton retour au calme !",color:"purple",exercises:t.filter(e=>"Relaxation"===e.category||"\xc9tirement"===e.category),navigate:e})]})})]}),(0,my.jsx)("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:(0,my.jsx)("div",{className:"px-4 py-3",children:(0,my.jsxs)("div",{className:"flex justify-around",children:[(0,my.jsx)(Vy,{icon:"\ud83c\udfe0",label:"Accueil",onClick:()=>e("/")}),(0,my.jsx)(Vy,{icon:"\ud83d\udcaa",label:"Exercices",active:!0}),(0,my.jsx)(Vy,{icon:"\ud83d\udcf0",label:"Articles",onClick:()=>e("/articles")})]})})})]})},By=()=>{const{id:e}=re(),t=ne(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{e&&(async()=>{try{console.log("\ud83d\udd0d Chargement exercice ID:",e);const t=cv(py,"exercises",e),n=await oy(t);if(n.exists()){const e=Me({id:n.id},n.data());r(e)}else console.log("\u274c Exercice non trouv\xe9"),l("Exercice non trouv\xe9");a(!1)}catch(t){console.error("\u274c Erreur lors du chargement de l'exercice:",t),l("Erreur lors du chargement de l'exercice"),a(!1)}})()},[e]);return s?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,my.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement de l'exercice..."})]})}):o||!n?(0,my.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsx)("p",{className:"text-red-600 mb-4",children:o||"Exercice non trouv\xe9"}),(0,my.jsx)("button",{onClick:()=>t("/exercises"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retour aux exercices"})]})}):(0,my.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,my.jsx)("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:(0,my.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,my.jsxs)("button",{onClick:()=>t("/exercises"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[(0,my.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour aux exercices"]})})}),(0,my.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,my.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-6",children:n.title}),n.imageUrl&&(0,my.jsx)("div",{className:"relative mb-6",children:(0,my.jsx)("div",{className:"bg-gray-100 rounded-3xl p-8 flex justify-center items-center min-h-80",children:(0,my.jsx)("img",{src:"/".concat(n.imageUrl),alt:n.title,className:"max-w-full max-h-64 object-contain",onError:e=>{e.target.src="/default-exercise.jpg"}})})}),(0,my.jsxs)("div",{className:"mb-8",children:[n.category&&(0,my.jsx)("div",{className:"text-gray-700 font-medium mb-3",children:n.category}),(0,my.jsxs)("div",{className:"flex gap-3",children:[n.difficulty&&(0,my.jsx)("span",{className:"px-4 py-2 border-2 border-orange-400 text-orange-600 rounded-full text-sm font-medium",children:n.difficulty}),n.duration&&(0,my.jsxs)("span",{className:"px-4 py-2 border-2 border-orange-400 text-orange-600 rounded-full text-sm font-medium",children:[n.duration," min"]})]})]}),(0,my.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 mb-8 text-white",children:[(0,my.jsxs)("div",{className:"flex items-center mb-4",children:[(0,my.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,my.jsx)("h2",{className:"text-xl font-bold",children:"Pr\xe9cautions"})]}),(0,my.jsxs)("ul",{className:"space-y-3",children:[(0,my.jsxs)("li",{className:"flex items-start",children:[(0,my.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),(0,my.jsx)("span",{children:"Consultez un professionnel de sant\xe9 avant de commencer."})]}),(0,my.jsxs)("li",{className:"flex items-start",children:[(0,my.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),(0,my.jsx)("span",{children:"\xc9coutez votre corps et arr\xeatez en cas de douleur."})]}),(0,my.jsxs)("li",{className:"flex items-start",children:[(0,my.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),(0,my.jsx)("span",{children:"Faites un \xe9chauffement puis un retour au calme."})]})]})]}),(0,my.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-8 border border-gray-200",children:[(0,my.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"Bienfaits"}),(0,my.jsx)("p",{className:"text-gray-700 leading-relaxed",children:n.benefits||"Cet \xe9tirement ouvre la cage thoracique, am\xe9liore la posture et lib\xe8re les tensions du haut du corps. Prends le temps de sentir ton souffle."})]}),(0,my.jsxs)("div",{className:"bg-gradient-to-b from-orange-400 to-orange-500 rounded-2xl p-6 mb-8",children:[(0,my.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Comment faire ?"}),(0,my.jsx)("div",{className:"space-y-4 mb-6",children:n.steps?n.steps.map((e,t)=>(0,my.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-xl p-4",children:[(0,my.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2",children:["\xc9tape ",t+1]}),(0,my.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:e})]},t)):(0,my.jsxs)(my.Fragment,{children:[(0,my.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-xl p-4",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"\xc9tape 1"}),(0,my.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Place-toi debout ou assis(e), le dos bien droit."})]}),(0,my.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-xl p-4",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"\xc9tape 2"}),(0,my.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Tends les bras \xe0 l'horizontale, de chaque c\xf4t\xe9, comme un oiseau."})]}),(0,my.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-xl p-4",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"\xc9tape 3"}),(0,my.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"\xc9carte doucement les bras en les \xe9tirant au maximum, sans forcer."})]}),(0,my.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-xl p-4",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"\xc9tape 4"}),(0,my.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Tiens cette position, en respirant calmement, pendant quelques secondes (10 \xe0 20 secondes selon ton confort)."})]}),(0,my.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-xl p-4",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"\xc9tape 5"}),(0,my.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Rel\xe2che doucement."})]})]})}),(0,my.jsxs)("button",{onClick:()=>{alert("F\xe9licitations ! Exercice termin\xe9 avec succ\xe8s ! \ud83c\udf89")},className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white font-semibold py-4 px-6 rounded-xl flex items-center justify-between hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:[(0,my.jsx)("span",{children:"Terminer"}),(0,my.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,my.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 mb-8 text-white",children:[(0,my.jsxs)("div",{className:"flex items-center mb-4",children:[(0,my.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,my.jsx)("h2",{className:"text-xl font-bold",children:"Pr\xe9cautions"})]}),(0,my.jsxs)("ul",{className:"space-y-3",children:[(0,my.jsxs)("li",{className:"flex items-start",children:[(0,my.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),(0,my.jsx)("span",{children:"Consultez un professionnel de sant\xe9 avant de commencer."})]}),(0,my.jsxs)("li",{className:"flex items-start",children:[(0,my.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),(0,my.jsx)("span",{children:"\xc9coutez votre corps et arr\xeatez en cas de douleur."})]}),(0,my.jsxs)("li",{className:"flex items-start",children:[(0,my.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),(0,my.jsx)("span",{children:"Faites un \xe9chauffement puis un retour au calme."})]})]})]}),(0,my.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,my.jsx)("div",{className:"flex justify-center",children:(0,my.jsx)("button",{onClick:()=>t("/exercises"),className:"flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Voir plus d'exercices"})})})]}),(0,my.jsx)("div",{className:"h-20"})]})},qy=()=>{const e=ne();return(0,my.jsxs)("div",{className:"min-h-screen bg-indigo-700 flex flex-col items-center justify-between py-10 px-4",children:[(0,my.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,my.jsx)("img",{alt:"Handy's Logo",className:"h-32 w-auto mb-8"}),(0,my.jsx)("h1",{className:"text-white text-3xl font-bold mb-2 text-center",children:"Bienvenue sur Handy's !"}),(0,my.jsx)("p",{className:"text-white text-center mb-8",children:"Des tutoriels sportifs adapt\xe9s \xe0 vos capacit\xe9s et objectifs."}),(0,my.jsx)("button",{className:"w-full max-w-xs bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-full mb-4 transition-colors",onClick:()=>e("/auth/register"),children:"Inscription"}),(0,my.jsx)("button",{className:"w-full max-w-xs bg-white hover:bg-gray-100 text-indigo-700 font-semibold py-3 rounded-full transition-colors",onClick:()=>e("/auth/login"),children:"J'ai d\xe9j\xe0 un compte"})]}),(0,my.jsxs)("p",{className:"text-white text-xs text-center px-4",children:["En continuant, vous acceptez nos"," ",(0,my.jsx)("a",{href:"#",className:"underline",children:"Conditions d'utilisation"})," ","et notre"," ",(0,my.jsx)("a",{href:"#",className:"underline",children:"Politique de confidentialit\xe9"}),"."]})]})},Hy=["className","type","variant"],Wy=i.forwardRef((e,t)=>{let{className:n,type:r="text",variant:i="default"}=e,s=vy(e,Hy);const a="".concat("flex h-10 w-full border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"," ").concat({default:"rounded-md",rounded:"rounded-full bg-gray-100 border-0"}[i]," ").concat(n||"").trim();return(0,my.jsx)("input",Me({type:r,className:a,ref:t},s))});Wy.displayName="Input";const Ky=["className","variant","size"],Gy=i.forwardRef((e,t)=>{let{className:n,variant:r="default",size:i="md"}=e,s=vy(e,Ky);const a="".concat("inline-flex items-center rounded-full font-semibold transition-colors"," ").concat({default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-orange-500 text-white hover:bg-orange-600",outline:"border border-input bg-background text-foreground"}[r]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"}[i]," ").concat(n||"").trim();return(0,my.jsx)("span",Me({ref:t,className:a},s))});Gy.displayName="Badge";const Qy=["className"],Yy=["className"],$y=["className"],Jy=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,Qy);return(0,my.jsx)("div",Me({ref:t,className:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full ".concat(n||"").trim()},r))});Jy.displayName="Avatar";const Xy=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,Yy);return(0,my.jsx)("img",Me({ref:t,className:"aspect-square h-full w-full ".concat(n||"").trim()},r))});Xy.displayName="AvatarImage";const Zy=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,$y);return(0,my.jsx)("div",Me({ref:t,className:"flex h-full w-full items-center justify-center rounded-full bg-muted ".concat(n||"").trim()},r))});Zy.displayName="AvatarFallback";const eb=["className"],tb=["className"],nb=["className"],rb=["className"],ib=["className"],sb=["className"],ab=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,eb);return(0,my.jsx)("div",Me({ref:t,className:"rounded-lg border bg-card text-card-foreground shadow-sm ".concat(n||"").trim()},r))});ab.displayName="Card";const ob=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,tb);return(0,my.jsx)("div",Me({ref:t,className:"flex flex-col space-y-1.5 p-6 ".concat(n||"").trim()},r))});ob.displayName="CardHeader";const lb=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,nb);return(0,my.jsx)("h3",Me({ref:t,className:"text-2xl font-semibold leading-none tracking-tight ".concat(n||"").trim()},r))});lb.displayName="CardTitle";i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,rb);return(0,my.jsx)("p",Me({ref:t,className:"text-sm text-muted-foreground ".concat(n||"").trim()},r))}).displayName="CardDescription";const cb=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,ib);return(0,my.jsx)("div",Me({ref:t,className:"p-6 pt-0 ".concat(n||"").trim()},r))});cb.displayName="CardContent";const ub=i.forwardRef((e,t)=>{let{className:n}=e,r=vy(e,sb);return(0,my.jsx)("div",Me({ref:t,className:"flex items-center p-6 pt-0 ".concat(n||"").trim()},r))});function hb(){return(0,my.jsxs)("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[(0,my.jsxs)("header",{className:"w-full flex items-center justify-between px-6 py-4 border-b",children:[(0,my.jsx)("img",{src:"/logo.webp",alt:"Handy's",className:"h-8 md:h-10"}),(0,my.jsxs)("nav",{className:"hidden md:flex space-x-8 text-base",children:[(0,my.jsx)("a",{href:"#",className:"font-medium text-primary",children:"Accueil"}),(0,my.jsx)("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:"Exercices"}),(0,my.jsx)("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:"Articles"})]}),(0,my.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,my.jsx)("div",{className:"hidden md:block w-64",children:(0,my.jsx)(Wy,{variant:"rounded",placeholder:"Rechercher un exercice"})}),(0,my.jsx)("div",{className:"flex md:hidden",children:(0,my.jsx)(by,{variant:"outline",size:"icon",children:(0,my.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 1012.5 3a7.5 7.5 0 004.15 13.65z"})})})}),(0,my.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,my.jsx)(Gy,{variant:"destructive",size:"sm",children:"34\ud83d\udd25"}),(0,my.jsxs)(Jy,{children:[(0,my.jsx)(Xy,{src:"/assets/avatar.png",alt:"User name"}),(0,my.jsx)(Zy,{children:"U"})]})]})]})]}),(0,my.jsxs)("main",{className:"flex-1 px-6 py-8 md:px-10 md:py-12",children:[(0,my.jsxs)("h1",{className:"text-2xl md:text-4xl font-bold",children:["Hello ",(0,my.jsx)("span",{className:"text-amber-500",children:"John"})]}),(0,my.jsx)("p",{className:"text-lg md:text-2xl mt-1 md:mt-2",children:"Pr\xeat \xe0 te lancer ?"}),(0,my.jsxs)("section",{className:"mt-6 md:mt-8 max-w-3xl mx-auto",children:[(0,my.jsxs)(ab,{className:"bg-primary text-primary-foreground",children:[(0,my.jsxs)(ob,{className:"flex justify-between items-center pt-6",children:[(0,my.jsx)(lb,{children:"S\xe9ance du jour"}),(0,my.jsx)("span",{className:"text-sm opacity-75",children:"\u23f1 38 min"})]}),(0,my.jsxs)(cb,{className:"space-y-4 pt-2",children:[(0,my.jsxs)("div",{className:"bg-background rounded-md p-4 flex justify-between items-center",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("h4",{className:"font-medium",children:"Extensions des jambes"}),(0,my.jsxs)("div",{className:"mt-1 space-x-2",children:[(0,my.jsx)(Gy,{variant:"outline",size:"sm",children:"Facile"}),(0,my.jsx)(Gy,{variant:"outline",size:"sm",children:"3 min"})]})]}),(0,my.jsx)(by,{variant:"ghost",size:"icon",children:"\u203a"})]}),(0,my.jsxs)("div",{className:"bg-muted rounded-md p-4 flex justify-between items-center opacity-50",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("h4",{className:"text-muted-foreground",children:"Rotation des \xe9paules"}),(0,my.jsxs)("div",{className:"mt-1 space-x-2",children:[(0,my.jsx)(Gy,{variant:"outline",size:"sm",children:"Facile"}),(0,my.jsx)(Gy,{variant:"outline",size:"sm",children:"15 min"})]})]}),(0,my.jsx)("span",{children:"\ud83d\udd12"})]}),(0,my.jsxs)("div",{className:"bg-muted rounded-md p-4 flex justify-between items-center opacity-50",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("h4",{className:"text-muted-foreground",children:"Extension vers le haut"}),(0,my.jsxs)("div",{className:"mt-1 space-x-2",children:[(0,my.jsx)(Gy,{variant:"outline",size:"sm",children:"Facile"}),(0,my.jsx)(Gy,{variant:"outline",size:"sm",children:"3 min"})]})]}),(0,my.jsx)("span",{children:"\ud83d\udd12"})]})]}),(0,my.jsx)(ub,{className:"justify-center",children:(0,my.jsx)(by,{variant:"destructive",size:"lg",children:"Go !"})})]}),(0,my.jsxs)("div",{className:"mt-4 text-center",children:[(0,my.jsx)("p",{children:"Tu en veux plus ?"}),(0,my.jsx)(by,{variant:"destructive",className:"mt-2",children:"Voir tous les exercices \u203a"})]})]}),(0,my.jsxs)("section",{className:"mt-10 md:mt-16",children:[(0,my.jsx)("h2",{className:"text-xl md:text-3xl font-bold text-center mb-6 md:mb-8",children:"D\xe9couvre nos derniers articles"}),(0,my.jsx)("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[{src:"/tennis.jpg",title:"5 exercices doux pour fauteuil roulant \xe0 essayer aujourd'hui"},{src:"/nageur.jpg",title:"Les bienfaits cach\xe9s de l'activit\xe9 physique adapt\xe9e"},{src:"/tele.jpg",title:"Le sport : un levier vital pour les personnes handicap\xe9es"}].map((e,t)=>(0,my.jsxs)(ab,{className:"overflow-hidden",children:[(0,my.jsx)("img",{src:e.src,alt:e.title,className:"w-full h-40 object-cover"}),(0,my.jsxs)(cb,{children:[(0,my.jsx)(lb,{className:"text-base mb-2",children:e.title}),(0,my.jsx)(by,{variant:"ghost",children:"Je d\xe9couvre\xa0!"})]})]},t))}),(0,my.jsx)("div",{className:"mt-8 text-center",children:(0,my.jsx)(by,{variant:"ghost",children:"Voir tous les articles \u203a"})})]})]}),(0,my.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 flex justify-around items-center py-2 bg-background border-t md:hidden",children:[(0,my.jsx)(by,{variant:"ghost",size:"icon",children:(0,my.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M13 5v6h6"})})}),(0,my.jsx)(by,{variant:"ghost",size:"icon",children:(0,my.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,my.jsx)(by,{variant:"ghost",size:"icon",children:(0,my.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})})})]})]})}ub.displayName="CardFooter";const db=["checked","onChange"],fb=i.forwardRef((e,t)=>{let{checked:n,onChange:r}=e,i=vy(e,db);return(0,my.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer select-none",style:{minWidth:44,minHeight:28},children:[(0,my.jsx)("input",Me({type:"checkbox",className:"sr-only peer",checked:n,onChange:r,ref:t},i)),(0,my.jsx)("div",{className:"w-11 h-7 bg-gray-200 peer-checked:bg-orange-200 rounded-full transition-colors duration-200 flex items-center",children:(0,my.jsx)("div",{className:"w-7 h-7 bg-white rounded-full shadow-md transform transition-transform duration-200 peer-checked:translate-x-4"})})]})});fb.displayName="Switch";const pb=()=>{const e=[!0,!0,!0,!0,!0,!1,!1];return(0,my.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,my.jsx)("div",{className:"bg-white px-4 py-4 shadow-sm",children:(0,my.jsx)("div",{className:"flex items-center max-w-md mx-auto",children:(0,my.jsxs)(Ae,{to:"/",className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,my.jsx)("span",{className:"w-5 h-5 mr-1",children:"\u2190"}),(0,my.jsx)("span",{children:"Retour"})]})})}),(0,my.jsxs)("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[(0,my.jsxs)("div",{className:"text-center",children:[(0,my.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,my.jsxs)(Jy,{className:"w-24 h-24",children:[(0,my.jsx)(Xy,{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&h=200&fit=crop&crop=face"}),(0,my.jsx)(Zy,{children:"JD"})]}),(0,my.jsx)("button",{className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-md border",children:(0,my.jsx)("span",{className:"text-xs",children:"\u270f\ufe0f"})})]}),(0,my.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"John Doe"})]}),(0,my.jsx)(ab,{className:"bg-gradient-to-br from-indigo-600 to-purple-700 text-white border-0 shadow-lg",children:(0,my.jsxs)(cb,{className:"p-6",children:[(0,my.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,my.jsx)("div",{className:"bg-orange-500 rounded-full p-2",children:(0,my.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udd25"})}),(0,my.jsxs)("div",{children:[(0,my.jsx)("div",{className:"text-xl font-bold",children:"34 s\xe9ances quotidiennes"}),(0,my.jsx)("div",{className:"text-white/80 text-sm",children:"cons\xe9cutives, Bravo !"})]})]}),(0,my.jsx)("div",{className:"flex justify-between items-center",children:["L","M","M","J","V","S","D"].map((t,n)=>(0,my.jsxs)("div",{className:"flex flex-col items-center",children:[(0,my.jsx)("div",{className:"text-xs text-white/80 mb-1",children:t}),(0,my.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(e[n]?"bg-orange-500 text-white":"bg-white/20 text-white/60"),children:e[n]?"\u2713":""})]},n))})]})}),(0,my.jsx)(ab,{className:"bg-purple-50 border-purple-100",children:(0,my.jsxs)(cb,{className:"p-6",children:[(0,my.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Profil"}),(0,my.jsx)(by,{variant:"outline",size:"sm",className:"border-purple-300 text-purple-600 hover:bg-purple-100",children:"Modifier \u270f\ufe0f"})]}),(0,my.jsxs)("div",{className:"space-y-3",children:[(0,my.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,my.jsx)("span",{className:"text-gray-600",children:"\xc2ge"}),(0,my.jsx)("span",{className:"font-medium",children:"24 ans"})]}),(0,my.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,my.jsx)("span",{className:"text-gray-600",children:"Poids"}),(0,my.jsx)("span",{className:"font-medium",children:"89 Kg"})]}),(0,my.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,my.jsx)("span",{className:"text-gray-600",children:"Mobilit\xe9"}),(0,my.jsx)("span",{className:"font-medium",children:"Haut et bas"})]}),(0,my.jsxs)("div",{className:"flex justify-between items-start py-2",children:[(0,my.jsx)("span",{className:"text-gray-600",children:"Handicap"}),(0,my.jsx)("span",{className:"font-medium text-right",children:"Handicap moteur d'origine ner.."})]})]})]})}),(0,my.jsx)(ab,{className:"bg-orange-50 border-orange-100",children:(0,my.jsxs)(cb,{className:"p-6",children:[(0,my.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Pr\xe9f\xe9rences"}),(0,my.jsx)(by,{variant:"outline",size:"sm",className:"border-orange-300 text-orange-600 hover:bg-orange-100",children:"Modifier \u270f\ufe0f"})]}),(0,my.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,my.jsx)("span",{className:"text-gray-600",children:"Difficult\xe9"}),(0,my.jsx)("span",{className:"font-medium",children:"Facile - Moyen"})]})]})}),(0,my.jsx)(ab,{className:"bg-gray-100 border-gray-200",children:(0,my.jsxs)(cb,{className:"p-6",children:[(0,my.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Param\xe8tres"}),(0,my.jsxs)("div",{className:"space-y-4",children:[(0,my.jsxs)("div",{className:"flex justify-between items-center",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("div",{className:"font-medium text-gray-900",children:"Rappels"}),(0,my.jsx)("div",{className:"text-sm text-gray-600",children:"Permettre \xe0 l'application de vous envoyer des rappels"})]}),(0,my.jsx)(fb,{})]}),(0,my.jsxs)("div",{className:"flex justify-between items-center",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("div",{className:"font-medium text-gray-900",children:"Notifications"}),(0,my.jsx)("div",{className:"text-sm text-gray-600",children:"Permettre \xe0 l'application de vous envoyer des notifications"})]}),(0,my.jsx)(fb,{})]}),(0,my.jsxs)("div",{className:"flex justify-between items-center",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("div",{className:"font-medium text-gray-900",children:"Accessibilit\xe9"}),(0,my.jsx)("div",{className:"text-sm text-gray-600",children:"Activer le mode accessibilit\xe9"})]}),(0,my.jsx)(fb,{})]})]})]})}),(0,my.jsx)(ab,{className:"border-0 shadow-sm",children:(0,my.jsxs)(cb,{className:"p-6",children:[(0,my.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Une question? Un avis ?"}),(0,my.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Notre \xe9quipe est \xe0 votre \xe9coute."}),(0,my.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,my.jsxs)("div",{children:[(0,my.jsx)("span",{className:"text-gray-600",children:"Email : "}),(0,my.jsx)("a",{href:"mailto:support@handys.fr",className:"text-blue-600 underline",children:"support@handys.fr"})]}),(0,my.jsxs)("div",{children:[(0,my.jsx)("span",{className:"text-gray-600",children:"T\xe9l\xe9phone : "}),(0,my.jsx)("a",{href:"tel:+33123456789",className:"text-blue-600",children:"+33 1 23 45 67 89"})]})]}),(0,my.jsxs)(by,{variant:"outline",className:"w-full mt-4",children:["Nous envoyer un message",(0,my.jsx)("span",{className:"ml-2",children:"\u2192"})]})]})})]}),(0,my.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:(0,my.jsxs)("div",{className:"max-w-md mx-auto flex justify-around py-2",children:[(0,my.jsxs)(Ae,{to:"/",className:"flex flex-col items-center py-2 px-4",children:[(0,my.jsx)("div",{className:"w-6 h-6 text-gray-400",children:"\ud83c\udfe0"}),(0,my.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"Accueil"})]}),(0,my.jsxs)("button",{className:"flex flex-col items-center py-2 px-4",children:[(0,my.jsx)("div",{className:"w-6 h-6 text-gray-400",children:"\ud83d\udcaa"}),(0,my.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"Exercices"})]}),(0,my.jsxs)("button",{className:"flex flex-col items-center py-2 px-4",children:[(0,my.jsx)("div",{className:"w-6 h-6 text-orange-500",children:"\ud83d\udcc4"}),(0,my.jsx)("span",{className:"text-xs text-orange-500 mt-1 font-medium",children:"Articles"})]})]})})]})},mb=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(navigator.onLine);(0,i.useEffect)(()=>{const e=e=>{e.preventDefault(),t(e),r(!0)},n=()=>{a(!0),r(!1),t(null)},i=()=>l(!0),s=()=>l(!1);return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",n),window.addEventListener("online",i),window.addEventListener("offline",s),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker enregistr\xe9 avec succ\xe8s:",e)}).catch(e=>{console.log("\xc9chec de l'enregistrement du Service Worker:",e)}),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",n),window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[]);return{isInstallable:n,isInstalled:s,isOnline:o,installApp:async()=>{if(e)try{e.prompt();const{outcome:n}=await e.userChoice;"accepted"===n?(console.log("Application install\xe9e avec succ\xe8s"),a(!0)):console.log("Installation refus\xe9e par l'utilisateur"),t(null),r(!1)}catch(n){console.error("Erreur lors de l'installation:",n)}else console.log("Aucune invite d'installation disponible")},requestNotificationPermission:async()=>{if(!("Notification"in window))return console.log("Ce navigateur ne supporte pas les notifications"),!1;if("granted"===Notification.permission)return!0;if("denied"===Notification.permission)return console.log("Permission de notification refus\xe9e"),!1;try{return"granted"===await Notification.requestPermission()}catch(e){return console.error("Erreur lors de la demande de permission:",e),!1}},sendNotification:(e,t)=>{"granted"===Notification.permission&&new Notification(e,Me({icon:"/logo.webp",badge:"/logo.webp"},t))}}},gb=e=>{let{className:t=""}=e;const{isInstallable:n,isInstalled:r,installApp:i}=mb();return r?null:n?(0,my.jsx)("div",{className:"fixed bottom-4 right-4 z-50 ".concat(t),children:(0,my.jsxs)("button",{onClick:i,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 transition-colors duration-200",children:[(0,my.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,my.jsx)("span",{children:"Installer l'app"})]})}):null},vb=()=>{const{isOnline:e}=mb();return e?null:(0,my.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-black px-4 py-2 text-center z-50",children:(0,my.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,my.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,my.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,my.jsx)("span",{className:"text-sm font-medium",children:"Mode hors ligne - Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es"})]})})};function yb(){return(0,my.jsxs)(Ce,{children:[(0,my.jsx)(vb,{}),(0,my.jsxs)(xe,{children:[(0,my.jsx)(be,{path:"/auth/register",element:(0,my.jsx)(gy,{})}),(0,my.jsx)(be,{path:"/auth/login",element:(0,my.jsx)(wy,{})}),(0,my.jsx)(be,{path:"/",element:(0,my.jsx)(qy,{})}),(0,my.jsx)(be,{path:"/home",element:(0,my.jsx)(hb,{})}),(0,my.jsx)(be,{path:"/onboarding",element:(0,my.jsx)(Iy,{})}),(0,my.jsx)(be,{path:"/articles",element:(0,my.jsx)(Oy,{})}),(0,my.jsx)(be,{path:"/articles/:id",element:(0,my.jsx)(Ly,{})}),(0,my.jsx)(be,{path:"/exercises",element:(0,my.jsx)(zy,{})}),(0,my.jsx)(be,{path:"/exercises/:id",element:(0,my.jsx)(By,{})}),(0,my.jsx)(be,{path:"/profile",element:(0,my.jsx)(jy,{children:(0,my.jsx)(pb,{})})}),(0,my.jsx)(be,{path:"*",element:(0,my.jsx)("div",{className:"p-8 text-center",children:"Page non trouv\xe9e"})})]}),(0,my.jsx)(gb,{})]})}a.createRoot(document.getElementById("root")).render((0,my.jsx)(yb,{})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{const e="".concat("","/sw.js");navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;null!=t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("Nouveau contenu disponible; veuillez actualiser."):console.log("Contenu mis en cache pour une utilisation hors ligne."))})}}).catch(e=>{console.error("Erreur lors de l'enregistrement du service worker:",e)})})})();
//# sourceMappingURL=main.df49f1d0.js.map